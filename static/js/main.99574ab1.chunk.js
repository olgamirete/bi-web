(this["webpackJsonpbi-web"]=this["webpackJsonpbi-web"]||[]).push([[0],{168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},20:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(1),c=n.n(a),o=n(50),s=n.n(o),i=(n(168),n(7));n(169),n(170);var l=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1],d=Object(a.useState)(!0),u=Object(i.a)(d,2),h=u[0],b=u[1],f=Object(a.useState)(!1),p=Object(i.a)(f,2),j=p[0],O=p[1],v=Object(a.useCallback)((function(){r((function(e){return!e}))}),[]),g=Object(a.useCallback)((function(){l((function(e){return!e}))}),[]),x=Object(a.useCallback)((function(){b((function(e){return!e}))}),[]),m=Object(a.useCallback)((function(){O((function(e){return!e}))}),[]);return[{showSidePanel:n,snapToGrid:s,displayGrid:h,allowSelection:j},{setFlagShowSidePanel:r,toggleSidePanel:v,toggleSnapToGrid:g,toggleDisplayGrid:x,toggleFlagAllowSelection:m,setFlagAllowSelection:O}]},d=20,u={width:480,height:300};var h=function(e){var t=Object(a.useState)({past:[],present:new Map,future:[]}),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(0),s=Object(i.a)(o,2),l=s[0],h=s[1],b=Object(a.useCallback)((function(e,t){return{id:e,pos:void 0===t.pos?{x:0,y:0}:t.pos,size:void 0===t.size?u:t.size,propsBeforeChange:{pos:void 0===t.pos?{x:0,y:0}:t.pos,size:void 0===t.size?u:t.size},selected:!1,flags:{allowResize:{width:!1,height:!1},allowMove:!1},type:void 0===t.type?"empty":t.type,contentOptions:{showLegend:!1,fields:{categories:[],valuesX:[],valuesY:[]}}}}),[]),f=Object(a.useCallback)((function(e,t,n){var r=e.get(t),a={};for(var c in r)n.hasOwnProperty(c)&&"id"!==c?a[c]=n[c]:a[c]=r[c];e.set(t,a)}),[]),p=Object(a.useCallback)((function(e,t,n){var r=e.get(t),a={};for(var c in r.contentOptions)n.hasOwnProperty(c)?a[c]=n[c]:a[c]=r.contentOptions[c];f(e,t,{contentOptions:a})}),[f]),j=Object(a.useCallback)((function(e){c((function(t){var n=new Map(t.present),r="card-"+l,a=b(r,e);return n.set(r,a),{past:t.past.concat([t.present]),present:n,future:[]}})),h((function(e){return e+1}))}),[l,b]),O=Object(a.useCallback)((function(t,n){var r={left:e.snapToGrid?Math.round(n.left/d,0)*d:n.left,top:e.snapToGrid?Math.round(n.top/d,0)*d:n.top};c((function(e){var n=new Map(e.present);return f(n,t,{pos:r}),{past:e.past.concat([e.present]),present:n,future:[]}}))}),[e.snapToGrid,f]),v=Object(a.useCallback)((function(t){c((function(n){var r=new Map(n.present);return r.forEach((function(n){if(!0===n.selected){var a=n.propsBeforeChange.pos,c={left:a.left+t.x,top:a.top+t.y},o={left:e.snapToGrid?Math.round(c.left/d,0)*d:c.left,top:e.snapToGrid?Math.round(c.top/d,0)*d:c.top};f(r,n.id,{pos:o})}})),{past:n.past,present:r,future:n.future}}))}),[e.snapToGrid,f]),g=Object(a.useCallback)((function(t,n,r,a){c((function(c){var o=c.present.get(t),s=o.propsBeforeChange.size,i=o.propsBeforeChange.pos,l={left:a.right?Math.min(i.left+n.x,i.left+s.width-40):i.left,top:a.bottom?Math.min(i.top+n.y,i.top+s.height-40):i.top},u={left:e.snapToGrid&&a.right&&r.width?Math.round(l.left/d,0)*d:l.left,top:e.snapToGrid&&a.bottom&&r.height?Math.round(l.top/d,0)*d:l.top},h={width:Math.max(s.width+n.x*(a.right?-1:1),40),height:Math.max(s.height+n.y*(a.bottom?-1:1),40)},b=h.width,p=h.height;e.snapToGrid&&(r.width&&(b=a.right?s.width-(u.left-i.left):Math.round((i.left+h.width)/d,0)*d-i.left),r.height&&(p=a.bottom?s.height-(u.top-i.top):20*Math.round((i.top+h.height)/20,0)-i.top));var j={width:b,height:p},O=new Map(c.present);return f(O,t,{pos:u,size:j}),{past:c.past,present:O,future:c.future}}))}),[e.snapToGrid,f]),x=Object(a.useCallback)((function(e){c((function(t){var n=new Map(t.present),r=n.get(e);return f(n,e,{selected:!r.selected}),{past:t.past,present:n,future:t.future}}))}),[f]),m=Object(a.useCallback)((function(e){c((function(t){var n=new Map(t.present);return n.delete(e),{past:t.past.concat([t.present]),present:n,future:[]}}))}),[]),y=Object(a.useCallback)((function(){c((function(e){var t=!1,n=new Map(e.present);return n.forEach((function(e){!0===e.selected&&(n.delete(e.id),t=!0)})),{past:t?e.past.concat([e.present]):e.past,present:t?n:e.present,future:t?[]:e.future}}))}),[]),w=Object(a.useCallback)((function(){c((function(e){var t=new Map(e.present);return t.forEach((function(e){f(t,e.id,{propsBeforeChange:{pos:e.pos,size:e.size}})})),{past:e.past.concat([e.present]),present:t,future:[]}}))}),[f]),M=Object(a.useCallback)((function(e){c((function(t){var n=new Map(t.present);return n.forEach((function(t){!0===t.selected&&f(n,t.id,{type:e})})),{past:t.past.concat([t.present]),present:n,future:[]}}))}),[f]),S=Object(a.useCallback)((function(e){c((function(t){var n=new Map(t.present),r=n.get(e);return p(n,e,{showLegend:!r.contentOptions.showLegend}),{past:t.past.concat([t.present]),present:n,future:[]}}))}),[p]),z=Object(a.useCallback)((function(e){c((function(e){var t=new Map(e.present);return t.forEach((function(e){!0===e.selected&&p(t,e.id,{showLegend:!e.contentOptions.showLegend})})),{past:e.past.concat([e.present]),present:t,future:[]}}))}),[p]),P=Object(a.useCallback)((function(){c((function(e){var t=new Map(e.present);return t.forEach((function(e){!0===e.selected&&f(t,e.id,{selected:!1})})),{past:e.past,present:t,future:e.future}}))}),[f]),N=Object(a.useCallback)((function(e){return!0===r.present.has(e)?r.present.get(e).selected:Error("cardId does not exist.")}),[r.present]),E=Object(a.useCallback)((function(e,t,n){var r=n.pos.left,a=n.pos.top,c=Math.max(n.size.width,0),o=Math.max(n.size.height,0),s=e.left>=r+n.borderWidth&&e.left+t.width<=r+n.borderWidth+c-2*n.borderWidth,i=e.top>=a+n.borderWidth&&e.top+t.height<=a+n.borderWidth+o-2*n.borderWidth;return s&&i}),[]),C=Object(a.useCallback)((function(e,t){c((function(n){var r=new Map(n.present);return r.forEach((function(n){var a=E(n.pos,n.size,e);f(r,n.id,{selected:t?a||n.selected:a})})),{past:n.past,present:r,future:n.future}}))}),[E,f]),k=Object(a.useCallback)((function(){c((function(e){return{past:e.past.length>0?e.past.slice(0,e.past.length-1):e.past,present:e.past.length>0?e.past[e.past.length-1]:e.present,future:e.past.length>0?e.future.concat([e.present]):e.future}}))}),[]),H=Object(a.useCallback)((function(){c((function(e){return{past:e.future.length>0?e.past.concat([e.present]):e.past,present:e.future.length>0?e.future[e.future.length-1]:e.present,future:e.future.length>0?e.future.slice(0,e.future.length-1):e.future}}))}),[]),I={canUndo:r.past.length>0,canRedo:r.future.length>0},V={add:j,move:O,translateSelected:v,resize:g,__updatePropsBeforeChange:w,isSelected:N,toggleSelect:x,clearSelection:P,delete:m,deleteSelected:y,selectWithRectangle:C,setContentTypeOfSelectedCards:M,undo:k,redo:H,toggleCardLegend:S,toggleSelectedCardsLegend:z};return[r.present,I,V]};var b=function(){var e=new Map;return e.set("table1",{id:"table1",fields:["anio","nombre","cantidad"]}),e.set("table2",{id:"table2",fields:["dni","provincia","edad"]}),e.set("table3",{id:"table3",fields:["fruta","calor\xedas"]}),[e,null]};n(171),n(20);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var j=a.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"});function O(e,t){var n=e.title,r=e.titleId,c=p(e,["title","titleId"]);return a.createElement("svg",f({viewBox:"0 0 24 24",width:"18px",height:"18px",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,j)}var v=a.forwardRef(O);n.p;function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=a.createElement("path",{d:"M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z"});function y(e,t){var n=e.title,r=e.titleId,c=x(e,["title","titleId"]);return a.createElement("svg",g({viewBox:"0 0 24 24",width:"18px",height:"18px",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,m)}var w=a.forwardRef(y);n.p;var M=function(e){var t=e.flagDisplayGrid?Object(r.jsx)(v,{className:"icon"}):Object(r.jsx)(w,{className:"icon"});return Object(r.jsx)("button",{alt:"Toggle display grid",className:"button square",onPointerDown:e.toggleDisplayGrid,children:t})};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var P=a.createElement("path",{d:"M4,3H5V5H3V4A1,1 0 0,1 4,3M20,3A1,1 0 0,1 21,4V5H19V3H20M15,5V3H17V5H15M11,5V3H13V5H11M7,5V3H9V5H7M21,20A1,1 0 0,1 20,21H19V19H21V20M15,21V19H17V21H15M11,21V19H13V21H11M7,21V19H9V21H7M4,21A1,1 0 0,1 3,20V19H5V21H4M3,15H5V17H3V15M21,15V17H19V15H21M3,11H5V13H3V11M21,11V13H19V11H21M3,7H5V9H3V7M21,7V9H19V7H21Z"});function N(e,t){var n=e.title,r=e.titleId,c=z(e,["title","titleId"]);return a.createElement("svg",S({style:{width:24,height:24},viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,P)}var E=a.forwardRef(N);n.p;var C=function(e){return Object(r.jsx)("button",{className:"button square"+(e.flagAllowSelection?" active":""),onPointerDown:e.toggleFlagAllowSelection,children:Object(r.jsx)(E,{className:"icon"})})};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var I=a.createElement("g",{fill:"#3191df",fillOpacity:1,stroke:"none",strokeLinecap:"round",strokeOpacity:1,strokeWidth:2.646,transform:"translate(2.511)"},a.createElement("path",{d:"M1.838 6.934v18.384a2.258 2.258 0 002.264 2.264h14.355a2.258 2.258 0 002.263-2.264V6.934zm2.706 2.318H5.95v16.066H4.544zm4.02 0h1.409v16.066H8.565zm4.022 0h1.408v16.066h-1.408zm4.021 0h1.408v16.066h-1.408z"}),a.createElement("path",{d:"M8.353 0C7.665 0 7.11.554 7.11 1.242v1.876H.919c-.509 0-.919.41-.92.919V5.487h22.56V4.036a.917.917 0 00-.92-.919h-6.191V1.242C15.448.554 14.894 0 14.206 0H8.352zm.579 1.242h4.675c.332 0 .598.267.598.598v1.278H8.353V1.82c0-.32.258-.578.579-.578z"}));function V(e,t){var n=e.title,r=e.titleId,c=H(e,["title","titleId"]);return a.createElement("svg",k({width:104.244,height:104.244,viewBox:"0 0 27.581 27.582",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,I)}var D=a.forwardRef(V);n.p;var L=function(e){return Object(r.jsx)("button",{className:"button square",onPointerDown:e.deleteSelected,children:Object(r.jsx)(D,{className:"icon"})})};function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var T=a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"});function B(e,t){var n=e.title,r=e.titleId,c=F(e,["title","titleId"]);return a.createElement("svg",R({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,T)}var G=a.forwardRef(B);n.p;var W=function(e){return Object(r.jsx)("button",{className:"button square",onPointerDown:function(){return e.addCard({pos:{left:20,top:20}})},children:Object(r.jsx)(G,{className:"icon"})})};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var q=a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"});function U(e,t){var n=e.title,r=e.titleId,c=K(e,["title","titleId"]);return a.createElement("svg",A({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,q)}var X=a.forwardRef(U);n.p;var Y=function(e){return Object(r.jsx)("button",{className:"button square",onPointerDown:e.toggleSidePanel,children:Object(r.jsx)(X,{className:"icon"})})};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Z=a.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"});function $(e,t){var n=e.title,r=e.titleId,c=J(e,["title","titleId"]);return a.createElement("svg",_({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,Z)}var Q=a.forwardRef($);n.p;var ee=function(e){return Object(r.jsx)("button",{className:"button square"+(e.flagCanUndo?"":" disabled"),onPointerDown:e.methodUndo,children:Object(r.jsx)(Q,{className:"icon"})})};function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var re=a.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"});function ae(e,t){var n=e.title,r=e.titleId,c=ne(e,["title","titleId"]);return a.createElement("svg",te({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,re)}var ce=a.forwardRef(ae);n.p;var oe=function(e){return Object(r.jsx)("button",{className:"button square"+(e.flagCanRedo?"":" disabled"),onPointerDown:e.methodRedo,children:Object(r.jsx)(ce,{className:"icon"})})};var se=function(e){return Object(r.jsxs)("div",{className:"controls theme-6",children:[Object(r.jsx)(Y,{toggleSidePanel:e.controlMethods.toggleSidePanel}),Object(r.jsx)(ee,{flagCanUndo:e.cardFlags.canUndo,methodUndo:e.cardMethods.undo}),Object(r.jsx)(oe,{flagCanRedo:e.cardFlags.canRedo,methodRedo:e.cardMethods.redo}),Object(r.jsx)("button",{alt:"Toggle snap to grid",className:"button"+(e.controlFlags.snapToGrid?" active":""),onPointerDown:e.controlMethods.toggleSnapToGrid,children:"Snap to grid"}),Object(r.jsx)(M,{flagDisplayGrid:e.controlFlags.displayGrid,toggleDisplayGrid:e.controlMethods.toggleDisplayGrid}),Object(r.jsx)(W,{addCard:e.cardMethods.add}),Object(r.jsx)(C,{flagAllowSelection:e.controlFlags.allowSelection,toggleFlagAllowSelection:e.controlMethods.toggleFlagAllowSelection}),Object(r.jsx)(L,{deleteSelected:e.cardMethods.deleteSelected})]})};n(172),n(173),n(174),n(175);var ie=function(e){return Object(r.jsx)("li",{className:"field-item",draggable:"true",children:Object(r.jsx)("span",{id:"table-"+e.tableId+"-field-"+e.fieldName,draggable:"true",onDragStart:function(e){e.dataTransfer.setData("text",e.target.id)},children:e.fieldName})})};var le=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1];return Object(r.jsxs)("div",{className:"table-fields-section",children:[Object(r.jsxs)("div",{className:"container-button-and-title",children:[Object(r.jsx)("button",{className:"button-expand-collapse",onPointerUp:function(e){e.target.innerHTML=c?"+":"-",o(!c)},children:"+"}),Object(r.jsx)("h4",{id:e.tableStructure.id,className:"fields-table-name",children:e.tableStructure.id})]}),Object(r.jsx)("ul",{className:"fields-list"+(c?"":" hidden"),children:e.tableStructure.fields.map((function(t,n,a){return Object(r.jsx)(ie,{tableId:e.tableStructure.id,fieldName:t},n)}))})]})};var de=function(e){return Object(r.jsxs)("section",{className:"section"+("fields"===e.activeSection?" active":""),children:[Object(r.jsx)("h3",{className:"title",children:"Fields"}),Array.from(e.dataStructure.values()).map((function(e,t,n){return Object(r.jsx)(le,{tableStructure:e},t)}))]})};var ue=function(e){return Object(r.jsxs)("section",{className:"section"+("format"===e.activeSection?" active":""),children:[Object(r.jsx)("h3",{className:"title",children:"Format"}),Object(r.jsx)("h4",{children:"Set chart type"}),Object(r.jsx)("button",{onPointerDown:function(){return e.cardMethods.setContentTypeOfSelectedCards("barchart")},children:"Bar chart"}),Object(r.jsx)("button",{onPointerDown:function(){return e.cardMethods.setContentTypeOfSelectedCards("piechart")},children:"Pie chart"}),Object(r.jsx)("button",{onPointerDown:function(){return e.cardMethods.setContentTypeOfSelectedCards("linechart")},children:"Line chart"}),Object(r.jsx)("button",{onPointerDown:function(){return e.cardMethods.setContentTypeOfSelectedCards("barchart2")},children:"Bar chart 2"}),Object(r.jsx)("h4",{children:"Set chart options"}),Object(r.jsx)("button",{onPointerDown:e.cardMethods.toggleSelectedCardsLegend,children:"Toggle legend"})]})};var he=function(e){return Object(r.jsxs)("section",{className:"section"+("other"===e.activeSection?" active":""),children:[Object(r.jsx)("h3",{className:"title",children:"Other"}),"Other"]})};var be=function(e){var t=Object(a.useState)("fields"),n=Object(i.a)(t,2),c=n[0],o=n[1],s=function(t){var n=t.target.dataset.section;void 0===n&&(n=t.target.parentNode.dataset.section),c!==n?(o(n),e.controlMethods.setFlagShowSidePanel(!0)):e.controlMethods.toggleSidePanel()};return Object(r.jsxs)("div",{className:"side-panel"+(e.controlFlags.showSidePanel?"":" hide"),children:[Object(r.jsxs)("div",{className:"buttons-container",children:[Object(r.jsx)("button",{"data-section":"fields",className:"fields"===c?"active":"",onPointerDown:s,children:Object(r.jsx)("span",{className:"text",children:"Fields"})}),Object(r.jsx)("button",{"data-section":"format",className:"format"===c?"active":"",onPointerDown:s,children:Object(r.jsx)("span",{className:"text",children:"Format"})}),Object(r.jsx)("button",{"data-section":"other",className:"other"===c?"active":"",onPointerDown:s,children:Object(r.jsx)("span",{className:"text",children:"Other"})})]}),Object(r.jsxs)("div",{className:"sections-container",children:[Object(r.jsx)(de,{activeSection:c,dataStructure:e.dataStructure}),Object(r.jsx)(ue,{activeSection:c,cardMethods:e.cardMethods}),Object(r.jsx)(he,{activeSection:c})]})]})},fe=(n(176),n(19));n(177),n(178);var pe=function(e){var t=e.cardInfo.size.width-2*e.borderWidth,n=e.cardInfo.size.height-2*e.borderWidth,a=20,c=n-20,o=n-c,s=t-a-10,i=n-.5*(n-c)-o;return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t+" "+n,className:"bar-chart",width:t,height:n,children:[Object(r.jsxs)("g",{children:[Object(r.jsx)("rect",{className:"background",x:"0",y:"0",width:t,height:n,ry:"0"}),Object(r.jsx)("text",{x:"30",y:"30",children:t}),Object(r.jsx)("text",{x:"30",y:"50",children:"Show legend: "+e.cardInfo.contentOptions.showLegend})]}),Object(r.jsx)("g",{children:Object(r.jsxs)("g",{children:[Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M 10,"+c+" h "+s}),Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M 30,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 40,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 50,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 60,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 70,"+c+" v 8"}),Object(r.jsx)("path",{d:"M 80,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 90,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 100,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 110,"+c+" v 5"}),Object(r.jsx)("path",{d:"M 120,"+c+" v 8"})]})]}),Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M 20,"+o+" v "+i}),Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M 20, 110 h -5"}),Object(r.jsx)("path",{d:"M 20, 100 h -5"}),Object(r.jsx)("path",{d:"M 20, 90 h -5"}),Object(r.jsx)("path",{d:"M 20, 80 h -5"}),Object(r.jsx)("path",{d:"M 20, 70 h -8"}),Object(r.jsx)("path",{d:"M 20, 60 h -5"}),Object(r.jsx)("path",{d:"M 20, 60 h -5"}),Object(r.jsx)("path",{d:"M 20, 50 h -5"}),Object(r.jsx)("path",{d:"M 20, 40 h -5"}),Object(r.jsx)("path",{d:"M 20, 30 h -8"})]})]})]})}),Object(r.jsx)("g",{children:Object(r.jsxs)("g",{children:[Object(r.jsx)("g",{}),Object(r.jsx)("g",{})]})}),Object(r.jsxs)("g",{children:[Object(r.jsx)("rect",{x:"20",y:"60",width:"20",height:"20",className:"bar"}),Object(r.jsx)("rect",{x:"60",y:"40",width:"20",height:"50",className:"bar"})]})]})};n(179);var je=function(e){return Object(r.jsxs)("svg",{className:"pie-chart",children:[Object(r.jsx)("text",{x:"0",y:"20",children:"Pie chart"}),Object(r.jsx)("rect",{cx:"0",cy:"0",width:"10",height:"10"})]})},Oe=(n(180),n(9)),ve=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}];var ge=function(e){var t=e.cardInfo.size.width-2*e.borderWidth,n=e.cardInfo.size.height-2*e.borderWidth;return Object(r.jsxs)(Oe.f,{width:t,height:n,data:ve,margin:{top:5,right:30,left:20,bottom:5},children:[Object(r.jsx)(Oe.c,{strokeDasharray:"3 3"}),Object(r.jsx)(Oe.h,{dataKey:"name"}),Object(r.jsx)(Oe.i,{}),Object(r.jsx)(Oe.g,{}),Object(r.jsx)(Oe.d,{}),Object(r.jsx)(Oe.e,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),Object(r.jsx)(Oe.e,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})]})},xe=(n(358),[{x:0,y:0},{x:10,y:10},{x:20,y:15},{x:30,y:20},{x:40,y:25},{x:50,y:30},{x:60,y:40},{x:70,y:5},{x:80,y:20},{x:90,y:10},{x:100,y:0},{x:110,y:0}]);var me=function(e){var t=e.cardInfo.size.width-2*e.borderWidth,n=e.cardInfo.size.height-2*e.borderWidth;return Object(r.jsxs)(Oe.b,{width:t,height:n,data:xe,children:[Object(r.jsx)(Oe.c,{strokeDasharray:"3 3"}),Object(r.jsx)(Oe.h,{dataKey:"name"}),Object(r.jsx)(Oe.i,{}),Object(r.jsx)(Oe.g,{}),Object(r.jsx)(Oe.d,{layout:"horizontal",verticalAlign:"bottom",iconType:"square",iconSize:3}),Object(r.jsx)(Oe.a,{dataKey:"x",fill:"#8884d8"}),Object(r.jsx)(Oe.a,{dataKey:"y",fill:"#82ca9d"})]})};var ye=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],o=n[1],s=Object(a.useCallback)((function(e){switch(e.cardInfo.type){case"barchart":return Object(r.jsx)(pe,Object(fe.a)({},e));case"piechart":return Object(r.jsx)(je,Object(fe.a)({},e));case"linechart":return Object(r.jsx)(ge,Object(fe.a)({},e));case"barchart2":return Object(r.jsx)(me,Object(fe.a)({},e));default:return Object(r.jsx)(pe,Object(fe.a)({},e))}}),[]),l=e.cardInfo.selected;return Object(r.jsxs)("div",{id:e.cardInfo.id,className:"resizeable-card-container"+(l?" selected":"")+(e.dashboardFlags.overrideHoverPointers?" unset-cursors":"")+(c?" receiving-drop":""),style:{left:e.cardInfo.pos.left+"px",top:e.cardInfo.pos.top+"px",backgroundColor:e.color},onDragOver:function(e){e.preventDefault(),o(!0)},onDragLeave:function(e){o(!1)},onDrop:function(e){e.preventDefault(),o(!1);var t=e.dataTransfer.getData("text");console.log(t)},children:[Object(r.jsxs)("div",{className:"col-container",children:[Object(r.jsx)("div",{className:"corner nw","data-anchor":{right:!0,bottom:!0}}),Object(r.jsx)("div",{className:"border vertical left","data-anchor":{right:!0,bottom:!1}}),Object(r.jsx)("div",{className:"corner sw","data-anchor":{right:!0,bottom:!1}})]}),Object(r.jsxs)("div",{className:"col-container",children:[Object(r.jsx)("div",{className:"border horizontal top","data-anchor":{right:!1,bottom:!0}}),Object(r.jsx)("div",{className:"content",style:{width:e.cardInfo.size.width+"px",height:e.cardInfo.size.height+"px",borderWidth:1},children:Object(r.jsx)(s,Object(fe.a)(Object(fe.a)({},e),{},{borderWidth:1}))}),Object(r.jsx)("div",{className:"border horizontal bottom","data-anchor":{right:!1,bottom:!1}})]}),Object(r.jsxs)("div",{className:"col-container",children:[Object(r.jsx)("div",{className:"corner ne","data-anchor":{right:!1,bottom:!0}}),Object(r.jsx)("div",{className:"border vertical right","data-anchor":{right:!1,bottom:!1}}),Object(r.jsx)("div",{className:"corner se","data-anchor":{right:!1,bottom:!1}})]})]})};var we=function(e,t,n,r,c){var o=Object(a.useState)({width:!1,height:!1}),s=Object(i.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(!1),h=Object(i.a)(u,2),b=h[0],f=h[1],p=Object(a.useState)({x:0,y:0}),j=Object(i.a)(p,2),O=j[0],v=j[1],g=Object(a.useState)({right:!1,bottom:!1}),x=Object(i.a)(g,2),m=x[0],y=x[1],w=Object(a.useState)(null),M=Object(i.a)(w,2),S=M[0],z=M[1],P=Object(a.useState)(!1),N=Object(i.a)(P,2),E=N[0],C=N[1],k=Object(a.useState)(!1),H=Object(i.a)(k,2),I=H[0],V=H[1],D=Object(a.useState)({flagDraw:!1,pos:{left:0,top:0},size:{width:0,height:0},borderWidth:t}),L=Object(i.a)(D,2),R=L[0],F=L[1],T=Object(a.useState)(!1),B=Object(i.a)(T,2),G=B[0],W=B[1],A=Object(a.useCallback)((function(t,n,r,a){var c="";if(t)c=r?"ns-resize":"ew-resize";else if(n){c={"00":"se-resize","01":"ne-resize",10:"sw-resize",11:"nw-resize"}[[+a.right,+a.bottom].join("")]}else c="normal";document.getElementById(e).style.setProperty("cursor",c)}),[e]),K=Object(a.useCallback)((function(){document.getElementById(e).style.removeProperty("cursor")}),[e]),q=Object(a.useCallback)((function(e){for(var t=e;t;){if(Array.from(t.classList).includes("resizeable-card-container"))return t;t=t.parentElement}return null}),[]);Object(a.useEffect)((function(){var t=document.getElementById(e),a=function(e){e.preventDefault(),W(!0),v({x:e.pageX,y:e.pageY});var a=q(e.target);if(null!==a){n.__updatePropsBeforeChange(),z(a);var c=a.id;if(!0===e.shiftKey)n.toggleSelect(c);else{!1===n.isSelected(c)&&(n.clearSelection(),n.toggleSelect(c));var o=Array.from(e.target.classList),s=o.includes("border"),i=o.includes("corner");if(s||i){var l=o.includes("horizontal"),u=["left","nw","sw"],h=o.some((function(e){return u.includes(e)})),b=["top","nw","ne"],p={right:h,bottom:o.some((function(e){return b.includes(e)}))};y(p),d({width:!l||i,height:l||i}),A(s,i,l,p),C(!0)}else f(!0)}}else if(!0===e.ctrlKey){var j=t.getBoundingClientRect();n.add({pos:{left:e.pageX-j.left+t.scrollLeft,top:e.pageY-j.top+t.scrollTop}})}else e.shiftKey||n.clearSelection(),"touch"!==e.pointerType&&r.setFlagAllowSelection(!0)};return t.addEventListener("pointerdown",a,!1),function(){return t.removeEventListener("pointerdown",a,!1)}}),[n,e,A,q,r]),Object(a.useLayoutEffect)((function(){var r=document.getElementById(e),a=function(e){e.preventDefault();var a={x:e.pageX-O.x,y:e.pageY-O.y};if(b)if(!1===e.shiftKey)n.translateSelected(a);else{var o=Math.abs(a.x)>Math.abs(a.y),s={x:o?a.x:0,y:!o?a.y:0};n.translateSelected(s)}else if(l.width||l.height){var i={x:l.width?a.x:0,y:l.height?a.y:0};n.resize(S.id,i,l,m)}else if(G&&c.allowSelection){var d=r.getBoundingClientRect(),u={flagDraw:!0,pos:{left:Math.round(Math.min(O.x,e.pageX)-d.left+r.scrollLeft,0),top:Math.round(Math.min(O.y,e.pageY)-d.top+r.scrollTop,0)},size:{width:Math.round(Math.abs(e.pageX-O.x),0),height:Math.round(Math.abs(e.pageY-O.y),0)},borderWidth:t};F(u);var h=e.shiftKey;n.selectWithRectangle(u,h)}};return r.addEventListener("pointermove",a,!1),function(){return r.removeEventListener("pointermove",a,!1)}}),[n,e,b,l,m,O,S,G,c.allowSelection,t]),Object(a.useEffect)((function(){var n=document.getElementById(e),a=function(e){W(!1),d({width:!1,height:!1}),f(!1),K(),C(!1),F({flagDraw:!1,pos:{left:0,top:0},size:{width:0,height:0},borderWidth:t}),r.setFlagAllowSelection(!1)};return n.addEventListener("pointerup",a,!1),function(){return n.removeEventListener("pointerup",a,!1)}}),[n,e,K,r,t]),Object(a.useEffect)((function(){var e=function(e){switch(e.key){case"Escape":n.clearSelection();break;case"Delete":n.deleteSelected();break;case"Control":I||(r.toggleSnapToGrid(),V(!0));break;case"Backspace":n.deleteSelected()}},t=function(e){switch(e.key){case"Escape":case"Delete":break;case"Control":r.toggleSnapToGrid(),V(!1)}};return window.addEventListener("keydown",e,!1),window.addEventListener("keyup",t,!1),function(){window.removeEventListener("keydown",e,!1),window.removeEventListener("keyup",t,!1)}}),[n,r,I]);var U=JSON.stringify({allowResize:l,allowMove:b,lastClickedPos:O,anchor:m});return[{overrideHoverPointers:E,allowRectangleSelect:c.allowSelection,pointerDown:G},{debugInfo:U,selectionRectangleProps:R}]};n(359);var Me=function(e){return Object(r.jsx)("div",{id:e.selRectId,className:"selection-rectangle"+(e.selRectInfo.flagDraw?"":" hide"),style:{left:e.selRectInfo.pos.left,top:e.selRectInfo.pos.top,width:e.selRectInfo.size.width,height:e.selRectInfo.size.height,borderWidth:e.selRectInfo.borderWidth}})};n(360);var Se=function(e){return Object(r.jsx)("div",{className:"grid",children:!0===e.controlFlags.displayGrid&&Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{className:"small-grid"}),Object(r.jsx)("div",{className:"big-grid"})]})})},ze="dashboard-content";var Pe=function(e){var t=Object(a.useRef)(null),n=we(ze,2,e.cardMethods,e.controlMethods,e.controlFlags),c=Object(i.a)(n,2),o=c[0],s=c[1];return Object(r.jsxs)("div",{id:ze,className:"dashboard-content"+(o.allowRectangleSelect?" touch-action-none":""),ref:t,children:[Object(r.jsx)(Se,{controlFlags:e.controlFlags,controlProps:e.controlProps,dashboardRef:t}),Array.from(e.cards.values()).map((function(t,n,a){return Object(r.jsx)(ye,{cardInfo:t,dashboardFlags:o,controlFlags:e.controlFlags},n)})),Object(r.jsx)(Me,{selRectInfo:s.selectionRectangleProps})]})};var Ne=function(){var e=l(),t=Object(i.a)(e,2),n=t[0],a=t[1],c=h(n),o=Object(i.a)(c,3),s=o[0],d=o[1],u=o[2],f=b(),p=Object(i.a)(f,2),j=p[0],O=p[1];return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(se,{cardFlags:d,cardMethods:u,controlFlags:n,controlMethods:a}),Object(r.jsxs)("div",{className:"container-for-side-panel-and-content",children:[Object(r.jsx)(be,{controlFlags:n,controlMethods:a,dataStructure:j,cardMethods:u}),Object(r.jsx)(Pe,{cards:s,cardMethods:u,controlFlags:n,controlMethods:a,data:O})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[361,1,2]]]);
//# sourceMappingURL=main.99574ab1.chunk.js.map