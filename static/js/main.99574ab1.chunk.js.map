{"version":3,"sources":["customHooks/useControls.js","customHooks/useCards.js","customHooks/useData.js","components/controls/buttons/icons/grid_on.svg","components/controls/buttons/icons/grid_off.svg","components/controls/buttons/ButtonToggleGrid.js","components/controls/buttons/icons/select.svg","components/controls/buttons/ButtonSelect.js","components/controls/buttons/icons/delete.svg","components/controls/buttons/ButtonDelete.js","components/controls/buttons/icons/plus.svg","components/controls/buttons/ButtonAdd.js","components/controls/buttons/icons/hamburger.svg","components/controls/buttons/ButtonToggleMenu.js","components/controls/buttons/icons/undo.svg","components/controls/buttons/ButtonUndo.js","components/controls/buttons/icons/redo.svg","components/controls/buttons/ButtonRedo.js","components/controls/Controls.js","components/side-panel/sections/table-fields/field-group/field-item/FieldItem.js","components/side-panel/sections/table-fields/field-group/FieldGroup.js","components/side-panel/sections/table-fields/TableFields.js","components/side-panel/sections/card-format/CardFormat.js","components/side-panel/sections/other/Other.js","components/side-panel/SidePanel.js","components/dashboard-content/components/card-content/charts/BarChart.js","components/dashboard-content/components/card-content/charts/PieChart.js","components/dashboard-content/components/card-content/charts/LineChart.js","components/dashboard-content/components/card-content/charts/BarChart2.js","components/dashboard-content/components/meta-card/MetaCard.js","components/dashboard-content/customHooks/useDashboardEventHandlers.js","components/dashboard-content/components/selection-rectangle/SelectionRectangle.js","components/dashboard-content/components/grid/Grid.js","components/dashboard-content/DashboardContent.js","App.js","serviceWorker.js","index.js"],"names":["useControls","useState","flagShowSidePanel","setFlagShowSidePanel","flagSnapToGrid","setFlagSnapToGrid","flagDisplayGrid","setFlagDisplayGrid","flagAllowSelection","setFlagAllowSelection","toggleSidePanel","useCallback","prevFlag","toggleSnapToGrid","toggleDisplayGrid","toggleFlagAllowSelection","showSidePanel","snapToGrid","displayGrid","allowSelection","GRID_UNIT_WIDTH","DEFAULT_SIZE","width","height","GRID_UNIT_HEIGHT","useCards","controlFlags","past","present","Map","future","cards","setCards","nextCardIndex","setNextCardIndex","newCardTemplate","cardId","nonDefaultValues","id","pos","undefined","x","y","size","propsBeforeChange","selected","flags","allowResize","allowMove","type","contentOptions","showLegend","fields","categories","valuesX","valuesY","updateCardInfo","propsToChange","prevCard","get","newProps","key","hasOwnProperty","set","updateContentOptions","optionsToChange","newOptions","addNewCard","startingProps","newCards","newCardProps","concat","prevState","moveCard","newPos","newPosControlled","left","Math","round","top","translateSelectedCards","translation","forEach","card","posBeforeMove","resizeCard","mouseTranslation","anchor","prevSize","prevPos","nextPos","right","min","bottom","nextPosControlled","nextSize","max","nextWidthControlled","nextHeightControlled","nextSizeControlled","toggleCardSelection","deleteCard","delete","deleteSelectedCards","flagDeletedSomething","__updatePropsBeforeChange","setContentTypeOfSelectedCards","toggleCardLegend","toggleSelectedCardsLegend","clearSelection","isCardSelected","has","Error","isCardInsideSelectionRect","cardPos","cardSize","rectProps","rectPos","rectSize","insideX","borderWidth","insideY","selectWithRectangle","rectangleProps","flagExpandCurrentSelection","flagSelect","undo","length","slice","redo","cardFlags","canUndo","canRedo","cardMethods","add","move","translateSelected","resize","isSelected","toggleSelect","deleteSelected","useData","dataStructure","_extends","Object","assign","target","i","arguments","source","prototype","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgGridOn","_ref","svgRef","title","titleId","props","viewBox","ref","ForwardRef","SvgGridOff","ButtonToggleGrid","buttonIcon","className","alt","onPointerDown","SvgSelect","style","ButtonSelect","fill","fillOpacity","stroke","strokeLinecap","strokeOpacity","strokeWidth","transform","SvgDelete","ButtonDelete","SvgPlus","ButtonAdd","addCard","SvgHamburger","ButtonToggleMenu","SvgUndo","ButtonUndo","flagCanUndo","methodUndo","SvgRedo","ButtonRedo","flagCanRedo","methodRedo","Controls","controlMethods","FieldItem","draggable","tableId","fieldName","onDragStart","e","dataTransfer","setData","FieldGroup","flagExpanded","setFlagExpanded","onPointerUp","innerHTML","tableStructure","map","field","arr","TableFields","activeSection","Array","from","values","CardFormat","Other","SidePanel","setActiveSection","handlePointerDown","selectedSection","dataset","section","parentNode","data-section","BarChart","chartWidth","cardInfo","chartHeight","originLeft","originTop","axisMarginTop","axisHorizontalLength","axisVerticalLength","xmlns","ry","PieChart","cx","cy","data","name","uv","pv","amt","LineChart","margin","strokeDasharray","dataKey","activeDot","r","BarChart2","layout","verticalAlign","iconType","iconSize","MetaCard","flagExpectDrop","setFlagExpectDrop","Contents","dashboardFlags","overrideHoverPointers","backgroundColor","color","onDragOver","preventDefault","onDragLeave","onDrop","getData","console","log","data-anchor","useDashboardEventHandlers","dashboardId","selRectBorderWidth","setAllowResize","setAllowMove","lastClickedPos","setLastClickedPos","setAnchor","lastContainerClicked","setLastContainerClicked","flagOverrideHoverPointers","setFlagOverrideHoverPointers","lockCtrlKey","setLockCtrlKey","flagDraw","selectionRectangleProps","setSelectionRectangleProps","flagPointerDown","setFlagPointerDown","setBorderCursorGlobalClass","isBorder","isCorner","isHorizontal","cursorClass","join","document","getElementById","setProperty","clearBorderCursorGlobalClass","removeProperty","containedInCardContainer","element","a","classList","includes","parentElement","useEffect","dashboard","pageX","pageY","cardContainer","shiftKey","classesTargetElement","isHor","leftClasses","isLeft","some","el","topClasses","newAnchor","ctrlKey","dashboardRect","getBoundingClientRect","scrollLeft","scrollTop","pointerType","addEventListener","removeEventListener","useLayoutEffect","handlePointerMove","priorizeX","abs","restrictedTranslation","resizeTranslation","newSelectionRectangleProps","handlePointerUp","handleKeyDown","handleKeyUp","window","debugInfo","JSON","stringify","allowRectangleSelect","pointerDown","SelectionRectangle","selRectId","selRectInfo","Grid","DASHBOARD_ID","DashboardContent","dashboardRef","useRef","dashboardProps","controlProps","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.99574ab1.chunk.js","sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\nfunction useControls() {\r\n\r\n  const [flagShowSidePanel, setFlagShowSidePanel] = useState(true);\r\n  const [flagSnapToGrid, setFlagSnapToGrid] = useState(false);\r\n  const [flagDisplayGrid, setFlagDisplayGrid] = useState(true);\r\n  const [flagAllowSelection, setFlagAllowSelection] = useState(false);\r\n  // const [gridSize, setGridSize] = useState({\r\n  //   width: \"100%\",\r\n  //   height: \"100%\"\r\n  // })\r\n  // const [lockGridSetting, setLockGridSetting] = useState(false);\r\n\r\n  const toggleSidePanel = useCallback(() => {\r\n    setFlagShowSidePanel(prevFlag => !prevFlag);\r\n  }, []);\r\n\r\n  const toggleSnapToGrid = useCallback(() => {\r\n    setFlagSnapToGrid(prevFlag => !prevFlag);\r\n  }, []);\r\n\r\n  const toggleDisplayGrid = useCallback(() => {\r\n    setFlagDisplayGrid(prevFlag => !prevFlag);\r\n  }, []);\r\n\r\n  const toggleFlagAllowSelection = useCallback(() => {\r\n    setFlagAllowSelection(prevFlag => !prevFlag);\r\n  }, []);\r\n\r\n  // const setGridWidth = useCallback((newWidth) => {\r\n  //   setGridSize(prevSize => ({\r\n  //     width: newWidth,\r\n  //     height: prevSize.height\r\n  //   }));\r\n  // }, []);\r\n\r\n  // const setGridHeight = useCallback((newHeight) => {\r\n  //   setGridSize(prevSize => ({\r\n  //     width: prevSize.width,\r\n  //     height: newHeight\r\n  //   }));\r\n  // }, []);\r\n\r\n\r\n  // // Handle Alt key press and release.------------------------------------------\r\n  // useEffect(() => {\r\n  //   if (keyboardInfo.altPressed === true) {\r\n  //     if (lockGridSetting === false) {\r\n  //       setLockGridSetting(true);\r\n  //       toggleSnapToGrid();\r\n  //     }\r\n  //   } else {\r\n  //     if (lockGridSetting === true) {\r\n  //       setLockGridSetting(false);\r\n  //       toggleSnapToGrid();\r\n  //     }\r\n  //   }\r\n  // }, [keyboardInfo.altPressed, lockGridSetting, toggleSnapToGrid]);\r\n  // // ---------------------------------------------------------------------------\r\n\r\n\r\n\r\n  const controlFlags = {\r\n    showSidePanel: flagShowSidePanel,\r\n    snapToGrid: flagSnapToGrid,\r\n    displayGrid: flagDisplayGrid,\r\n    allowSelection: flagAllowSelection\r\n  };\r\n  // const controlProps = {\r\n  //   gridSize: gridSize\r\n  // }\r\n  const controlMethods = {\r\n    setFlagShowSidePanel: setFlagShowSidePanel,\r\n    toggleSidePanel: toggleSidePanel,\r\n    toggleSnapToGrid: toggleSnapToGrid,\r\n    toggleDisplayGrid: toggleDisplayGrid,\r\n    toggleFlagAllowSelection: toggleFlagAllowSelection,\r\n    setFlagAllowSelection: setFlagAllowSelection,\r\n    // setGridSize: setGridSize,\r\n    // setGridWidth: setGridWidth,\r\n    // setGridHeight: setGridHeight\r\n  };\r\n\r\n  return [controlFlags, controlMethods];\r\n}\r\n\r\nexport default useControls;","import { useState, useCallback } from 'react';\r\n\r\nconst GRID_UNIT_WIDTH = 20;\r\nconst GRID_UNIT_HEIGHT = 20;\r\n\r\nconst MIN_WIDHT = GRID_UNIT_WIDTH * 2;\r\nconst MIN_HEIGHT = GRID_UNIT_HEIGHT * 2;\r\nconst DEFAULT_WIDTH = GRID_UNIT_WIDTH * 3 * 8;\r\nconst DEFAULT_HEIGHT = GRID_UNIT_HEIGHT * 3 * 5;\r\nconst DEFAULT_SIZE = { width: DEFAULT_WIDTH, height: DEFAULT_HEIGHT };\r\n\r\nfunction useCards(controlFlags) {\r\n\r\n  const [cards, setCards] = useState({\r\n    past: [],\r\n    present: new Map(),\r\n    future: []\r\n  });\r\n\r\n  const [nextCardIndex, setNextCardIndex] = useState(0);\r\n\r\n  const newCardTemplate = useCallback((cardId, nonDefaultValues) => {\r\n    return {\r\n      id: cardId,\r\n      pos: nonDefaultValues.pos === undefined ? { x: 0, y: 0 } : nonDefaultValues.pos,\r\n      size: nonDefaultValues.size === undefined ? DEFAULT_SIZE : nonDefaultValues.size,\r\n      propsBeforeChange: {\r\n        pos: nonDefaultValues.pos === undefined ? { x: 0, y: 0 } : nonDefaultValues.pos,\r\n        size: nonDefaultValues.size === undefined ? DEFAULT_SIZE : nonDefaultValues.size\r\n      },\r\n      selected: false,\r\n      flags: {\r\n        allowResize: {\r\n          width: false,\r\n          height: false\r\n        },\r\n        allowMove: false\r\n      },\r\n      type: nonDefaultValues.type === undefined ? \"empty\" : nonDefaultValues.type,\r\n      contentOptions: {\r\n        showLegend: false,\r\n        fields: {\r\n          categories: [],\r\n          valuesX: [],\r\n          valuesY: []\r\n        }\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const updateCardInfo = useCallback((cards, cardId, propsToChange) => {\r\n    const prevCard = cards.get(cardId);\r\n    let newProps = {};\r\n    for (const key in prevCard) {\r\n      if (propsToChange.hasOwnProperty(key) && key !== \"id\" ) {\r\n        newProps[key] = propsToChange[key];\r\n      } else {\r\n        newProps[key] = prevCard[key];\r\n      }\r\n    }\r\n    cards.set(cardId, newProps);\r\n  }, []);\r\n\r\n  const updateContentOptions = useCallback((cards, cardId, optionsToChange) => {\r\n    const prevCard = cards.get(cardId);\r\n    let newOptions = {};\r\n    for (const key in prevCard.contentOptions) {\r\n      if (optionsToChange.hasOwnProperty(key)) {\r\n        newOptions[key] = optionsToChange[key];\r\n      } else {\r\n        newOptions[key] = prevCard.contentOptions[key];\r\n      }\r\n    }\r\n    updateCardInfo(cards, cardId, {contentOptions: newOptions});\r\n  }, [updateCardInfo]);\r\n\r\n  const addNewCard = useCallback((startingProps) => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      const cardId = \"card-\" + nextCardIndex;\r\n      const newCardProps = newCardTemplate(cardId, startingProps);\r\n      newCards.set(cardId, newCardProps);\r\n      return {\r\n        past: cards.past.concat([cards.present]),\r\n        present: newCards,\r\n        future: []\r\n      };\r\n    });\r\n    setNextCardIndex((prevState) => prevState + 1);\r\n  }, [nextCardIndex, newCardTemplate]);\r\n\r\n  const moveCard = useCallback((cardId, newPos) => {\r\n    const newPosControlled = {\r\n      left: controlFlags.snapToGrid ? Math.round(newPos.left / GRID_UNIT_WIDTH, 0) * GRID_UNIT_WIDTH : newPos.left,\r\n      top: controlFlags.snapToGrid ? Math.round(newPos.top / GRID_UNIT_WIDTH, 0) * GRID_UNIT_WIDTH : newPos.top\r\n    }\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      updateCardInfo(newCards, cardId, { pos: newPosControlled });\r\n      return {\r\n        past: cards.past.concat([cards.present]),\r\n        present: newCards,\r\n        future: []\r\n      };\r\n    });\r\n  }, [controlFlags.snapToGrid, updateCardInfo]);\r\n\r\n  const translateSelectedCards = useCallback((translation) => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      newCards.forEach(card => {\r\n        if (card.selected === true) {\r\n          const posBeforeMove = card.propsBeforeChange.pos;\r\n          const newPos = {\r\n            left: posBeforeMove.left + translation.x,\r\n            top: posBeforeMove.top + translation.y\r\n          };\r\n          const newPosControlled = {\r\n            left: controlFlags.snapToGrid ? Math.round(newPos.left / GRID_UNIT_WIDTH, 0) * GRID_UNIT_WIDTH : newPos.left,\r\n            top: controlFlags.snapToGrid ? Math.round(newPos.top / GRID_UNIT_WIDTH, 0) * GRID_UNIT_WIDTH : newPos.top\r\n          }\r\n          updateCardInfo(newCards, card.id, { pos: newPosControlled });\r\n        }\r\n      });\r\n      return {\r\n        past: cards.past, // we do not update the past until we fix the values of propsBeforeChange\r\n        present: newCards,\r\n        future: cards.future // we do not update the future until we fix the values of propsBeforeChange\r\n      };\r\n    });\r\n  }, [controlFlags.snapToGrid, updateCardInfo]);\r\n\r\n  const resizeCard = useCallback((cardId, mouseTranslation, allowResize, anchor) => {\r\n    setCards(cards => {\r\n      const prevCard = cards.present.get(cardId);\r\n      const prevSize = prevCard.propsBeforeChange.size;\r\n      const prevPos = prevCard.propsBeforeChange.pos;\r\n\r\n      const nextPos = {\r\n        left: anchor.right ? Math.min(prevPos.left + mouseTranslation.x, prevPos.left + prevSize.width - MIN_WIDHT) : prevPos.left,\r\n        top: anchor.bottom ? Math.min(prevPos.top + mouseTranslation.y, prevPos.top + prevSize.height - MIN_HEIGHT) : prevPos.top\r\n      }\r\n      const nextPosControlled = {\r\n        left: controlFlags.snapToGrid && anchor.right && allowResize.width ? Math.round(nextPos.left / GRID_UNIT_WIDTH, 0) * GRID_UNIT_WIDTH : nextPos.left,\r\n        top: controlFlags.snapToGrid && anchor.bottom && allowResize.height ? Math.round(nextPos.top / GRID_UNIT_WIDTH, 0) * GRID_UNIT_WIDTH : nextPos.top\r\n      }\r\n\r\n      const nextSize = {\r\n        width: Math.max(prevSize.width + mouseTranslation.x * (anchor.right ? -1 : 1), MIN_WIDHT),\r\n        height: Math.max(prevSize.height + mouseTranslation.y * (anchor.bottom ? -1 : 1), MIN_HEIGHT)\r\n      }\r\n      let nextWidthControlled = nextSize.width;\r\n      let nextHeightControlled = nextSize.height;\r\n      if (controlFlags.snapToGrid) {\r\n        if (allowResize.width) {\r\n          nextWidthControlled = anchor.right ? prevSize.width - (nextPosControlled.left - prevPos.left) : Math.round((prevPos.left + nextSize.width) / GRID_UNIT_WIDTH, 0) * GRID_UNIT_WIDTH - prevPos.left;\r\n        }\r\n        if (allowResize.height) {\r\n          nextHeightControlled = anchor.bottom ? prevSize.height - (nextPosControlled.top - prevPos.top) : Math.round((prevPos.top + nextSize.height) / GRID_UNIT_HEIGHT, 0) * GRID_UNIT_HEIGHT - prevPos.top;\r\n        }\r\n      }\r\n      const nextSizeControlled = {\r\n        width: nextWidthControlled,\r\n        height: nextHeightControlled\r\n      }\r\n\r\n      let newCards = new Map(cards.present);\r\n      updateCardInfo(newCards, cardId, {\r\n        pos: nextPosControlled,\r\n        size: nextSizeControlled\r\n      });\r\n      return {\r\n        past: cards.past, // we do not update the past until we fix the values of propsBeforeChange\r\n        present: newCards,\r\n        future: cards.future // we do not update the future until we fix the values of propsBeforeChange\r\n      };\r\n    });\r\n  }, [controlFlags.snapToGrid, updateCardInfo]);\r\n\r\n  const toggleCardSelection = useCallback((cardId) => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      const prevCard = newCards.get(cardId);\r\n      updateCardInfo(newCards, cardId, { selected: !prevCard.selected });\r\n      return {\r\n        past: cards.past, // no need to update the past when selecting a card\r\n        present: newCards,\r\n        future: cards.future // no need to update the future when selecting a card\r\n      };\r\n    });\r\n  }, [updateCardInfo]);\r\n\r\n  const deleteCard = useCallback((cardId) => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      newCards.delete(cardId);\r\n      return {\r\n        past: cards.past.concat([cards.present]),\r\n        present: newCards,\r\n        future: []\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const deleteSelectedCards = useCallback(() => {\r\n    setCards(cards => {\r\n      let flagDeletedSomething = false;\r\n      let newCards = new Map(cards.present);\r\n      newCards.forEach(card => {\r\n        if (card.selected === true) {\r\n          newCards.delete(card.id);\r\n          flagDeletedSomething = true;\r\n        }\r\n      });\r\n      return {\r\n        past: flagDeletedSomething ? cards.past.concat([cards.present]) : cards.past,\r\n        present: flagDeletedSomething ? newCards : cards.present,\r\n        future: flagDeletedSomething ? [] : cards.future\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const __updatePropsBeforeChange = useCallback(() => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      newCards.forEach(card => {\r\n        updateCardInfo(newCards, card.id, {\r\n          propsBeforeChange: {\r\n            pos: card.pos,\r\n            size: card.size\r\n          }\r\n        });\r\n      });\r\n      return {\r\n        past: cards.past.concat([cards.present]),\r\n        present: newCards,\r\n        future: []\r\n      };\r\n    });\r\n  }, [updateCardInfo]);\r\n\r\n  const setContentTypeOfSelectedCards = useCallback((type) => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      newCards.forEach(card => {\r\n        if (card.selected === true) {\r\n          updateCardInfo(newCards, card.id, { type: type });\r\n        }\r\n      });\r\n      return {\r\n        past: cards.past.concat([cards.present]),\r\n        present: newCards,\r\n        future: []\r\n      };\r\n    });\r\n  }, [updateCardInfo]);\r\n\r\n  const toggleCardLegend = useCallback((cardId) => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      const prevCard = newCards.get(cardId);\r\n      updateContentOptions(newCards, cardId, {\r\n        showLegend: !prevCard.contentOptions.showLegend\r\n      });\r\n      return {\r\n        past: cards.past.concat([cards.present]),\r\n        present: newCards,\r\n        future: []\r\n      };\r\n    });\r\n  }, [updateContentOptions]);\r\n\r\n  const toggleSelectedCardsLegend = useCallback((cardId) => {\r\n    \r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      newCards.forEach(card => {\r\n        if (card.selected === true) {\r\n          updateContentOptions(newCards, card.id, {\r\n            showLegend: !card.contentOptions.showLegend\r\n          });\r\n        }\r\n      });\r\n      return {\r\n        past: cards.past.concat([cards.present]),\r\n        present: newCards,\r\n        future: []\r\n      };\r\n    });\r\n  }, [updateContentOptions]);\r\n\r\n  const clearSelection = useCallback(() => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      newCards.forEach(card => {\r\n        if (card.selected === true) {\r\n          updateCardInfo(newCards, card.id, { selected: false });\r\n        }\r\n      });\r\n      return {\r\n        past: cards.past, // no need to update the past when clearing the selection\r\n        present: newCards,\r\n        future: cards.future // no need to update the future when clearing the selection\r\n      };\r\n    });\r\n  }, [updateCardInfo]);\r\n\r\n  const isCardSelected = useCallback((cardId) => {\r\n    if (cards.present.has(cardId) === true) {\r\n      return cards.present.get(cardId).selected;\r\n    } else {\r\n      return Error(\"cardId does not exist.\");\r\n    }\r\n  }, [cards.present]);\r\n\r\n  const isCardInsideSelectionRect = useCallback((cardPos, cardSize, rectProps) => {\r\n    const rectPos = {\r\n      left: rectProps.pos.left,\r\n      top: rectProps.pos.top\r\n    }\r\n    const rectSize = {\r\n      width: Math.max(rectProps.size.width, 0),\r\n      height: Math.max(rectProps.size.height, 0)\r\n    }\r\n    const insideX = (cardPos.left >= rectPos.left + rectProps.borderWidth) && (cardPos.left + cardSize.width <= rectPos.left + rectProps.borderWidth + rectSize.width - 2 * rectProps.borderWidth);\r\n    const insideY = (cardPos.top >= rectPos.top + rectProps.borderWidth) && (cardPos.top + cardSize.height <= rectPos.top + rectProps.borderWidth + rectSize.height - 2 * rectProps.borderWidth);\r\n    return insideX && insideY;\r\n  }, []);\r\n\r\n  const selectWithRectangle = useCallback((rectangleProps, flagExpandCurrentSelection) => {\r\n    setCards(cards => {\r\n      let newCards = new Map(cards.present);\r\n      newCards.forEach(card => {\r\n        const flagSelect = isCardInsideSelectionRect(\r\n          card.pos,\r\n          card.size,\r\n          rectangleProps\r\n        );\r\n        updateCardInfo(newCards, card.id, {\r\n          selected: flagExpandCurrentSelection ? (flagSelect || card.selected) : flagSelect\r\n        });\r\n      });\r\n      return {\r\n        past: cards.past, // no need to update the past when selecting cards\r\n        present: newCards,\r\n        future: cards.future // no need to update the future when selecting cards\r\n      };\r\n    });\r\n  }, [isCardInsideSelectionRect, updateCardInfo]);\r\n\r\n  const undo = useCallback(() => {\r\n    setCards(cards => ({\r\n      past: cards.past.length > 0 ? cards.past.slice(0, cards.past.length - 1) : cards.past,\r\n      present: cards.past.length > 0 ? cards.past[cards.past.length - 1] : cards.present,\r\n      future: cards.past.length > 0 ? cards.future.concat([cards.present]) : cards.future\r\n    }));\r\n  }, []);\r\n\r\n  const redo = useCallback(() => {\r\n    setCards(cards => ({\r\n      past: cards.future.length > 0 ? cards.past.concat([cards.present]) : cards.past,\r\n      present: cards.future.length > 0 ? cards.future[cards.future.length - 1] : cards.present,\r\n      future: cards.future.length > 0 ? cards.future.slice(0, cards.future.length - 1) : cards.future\r\n    }));\r\n  }, []);\r\n\r\n  const cardFlags = {\r\n    canUndo: cards.past.length > 0,\r\n    canRedo: cards.future.length > 0\r\n  }\r\n\r\n  const cardMethods = {\r\n    add: addNewCard,\r\n    move: moveCard,\r\n    translateSelected: translateSelectedCards,\r\n    resize: resizeCard,\r\n    __updatePropsBeforeChange: __updatePropsBeforeChange,\r\n    isSelected: isCardSelected,\r\n    toggleSelect: toggleCardSelection,\r\n    clearSelection: clearSelection,\r\n    delete: deleteCard,\r\n    deleteSelected: deleteSelectedCards,\r\n    selectWithRectangle: selectWithRectangle,\r\n    setContentTypeOfSelectedCards: setContentTypeOfSelectedCards,\r\n    undo: undo,\r\n    redo: redo,\r\n    toggleCardLegend: toggleCardLegend,\r\n    toggleSelectedCardsLegend\r\n  }\r\n\r\n  return [cards.present, cardFlags, cardMethods];\r\n}\r\nexport default useCards;","function useData() {\r\n\r\n    const fieldsTable1 = [\"anio\", \"nombre\", \"cantidad\"];\r\n    const fieldsTable2 = [\"dni\", \"provincia\", \"edad\"];\r\n    const fieldsTable3 = [\"fruta\", \"calorías\"];\r\n\r\n\r\n    const dataStructure = new Map();\r\n    dataStructure.set(\"table1\", {id: \"table1\", fields: fieldsTable1});\r\n    dataStructure.set(\"table2\", {id: \"table2\", fields: fieldsTable2});\r\n    dataStructure.set(\"table3\", {id: \"table3\", fields: fieldsTable3});\r\n\r\n    const data = null;\r\n\r\n    return [dataStructure, data];\r\n}\r\n\r\nexport default useData;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z\"\n});\n\nfunction SvgGridOn(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGridOn);\nexport default __webpack_public_path__ + \"static/media/grid_on.4d8dd6d3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z\"\n});\n\nfunction SvgGridOff(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGridOff);\nexport default __webpack_public_path__ + \"static/media/grid_off.a8cc6055.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './ControlButtons.css';\r\nimport { ReactComponent as IconGridOn } from './icons/grid_on.svg';\r\nimport { ReactComponent as IconGridOff } from './icons/grid_off.svg';\r\n\r\nfunction ButtonToggleGrid(props) {\r\n  \r\n    const buttonIcon =  props.flagDisplayGrid ? <IconGridOn className=\"icon\" /> : <IconGridOff className=\"icon\" />\r\n\r\n    return (\r\n    <button\r\n        alt=\"Toggle display grid\"\r\n        // className={\"button square\" + (props.flagDisplayGrid ? \" active\" : \"\")}\r\n        className={\"button square\"}\r\n        onPointerDown={props.toggleDisplayGrid} >\r\n        {buttonIcon}\r\n      </button>\r\n  );\r\n}\r\n\r\nexport default ButtonToggleGrid;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4,3H5V5H3V4A1,1 0 0,1 4,3M20,3A1,1 0 0,1 21,4V5H19V3H20M15,5V3H17V5H15M11,5V3H13V5H11M7,5V3H9V5H7M21,20A1,1 0 0,1 20,21H19V19H21V20M15,21V19H17V21H15M11,21V19H13V21H11M7,21V19H9V21H7M4,21A1,1 0 0,1 3,20V19H5V21H4M3,15H5V17H3V15M21,15V17H19V15H21M3,11H5V13H3V11M21,11V13H19V11H21M3,7H5V9H3V7M21,7V9H19V7H21Z\"\n});\n\nfunction SvgSelect(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      width: 24,\n      height: 24\n    },\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSelect);\nexport default __webpack_public_path__ + \"static/media/select.c95797aa.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './ControlButtons.css';\r\nimport { ReactComponent as IconSelect } from './icons/select.svg';\r\n\r\nfunction ButtonSelect(props) {\r\n\r\n\r\n  return (\r\n    <button\r\n      className={\"button square\" + (props.flagAllowSelection ? \" active\" : \"\")}\r\n      onPointerDown={props.toggleFlagAllowSelection}>\r\n      <IconSelect className=\"icon\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ButtonSelect;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#3191df\",\n  fillOpacity: 1,\n  stroke: \"none\",\n  strokeLinecap: \"round\",\n  strokeOpacity: 1,\n  strokeWidth: 2.646,\n  transform: \"translate(2.511)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.838 6.934v18.384a2.258 2.258 0 002.264 2.264h14.355a2.258 2.258 0 002.263-2.264V6.934zm2.706 2.318H5.95v16.066H4.544zm4.02 0h1.409v16.066H8.565zm4.022 0h1.408v16.066h-1.408zm4.021 0h1.408v16.066h-1.408z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.353 0C7.665 0 7.11.554 7.11 1.242v1.876H.919c-.509 0-.919.41-.92.919V5.487h22.56V4.036a.917.917 0 00-.92-.919h-6.191V1.242C15.448.554 14.894 0 14.206 0H8.352zm.579 1.242h4.675c.332 0 .598.267.598.598v1.278H8.353V1.82c0-.32.258-.578.579-.578z\"\n}));\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 104.244,\n    height: 104.244,\n    viewBox: \"0 0 27.581 27.582\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.0c46faee.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './ControlButtons.css';\r\nimport { ReactComponent as IconDelete } from './icons/delete.svg';\r\n\r\nfunction ButtonDelete(props) {\r\n  return (\r\n    <button\r\n      className=\"button square\"\r\n      onPointerDown={props.deleteSelected}>\r\n        <IconDelete className=\"icon\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ButtonDelete;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.789bd1e2.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './ControlButtons.css';\r\nimport { ReactComponent as IconPlus } from './icons/plus.svg';\r\n\r\nfunction ButtonAdd(props) {\r\n  return (\r\n    <button\r\n      className=\"button square\"\r\n      onPointerDown={() => props.addCard({ pos: { left: 20, top: 20 } })}>\r\n        <IconPlus className=\"icon\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ButtonAdd;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n});\n\nfunction SvgHamburger(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHamburger);\nexport default __webpack_public_path__ + \"static/media/hamburger.24f5dd3c.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './ControlButtons.css';\r\nimport { ReactComponent as IconHamburger } from './icons/hamburger.svg';\r\n\r\nfunction ButtonToggleMenu(props) {\r\n  return (\r\n    <button\r\n      className=\"button square\"\r\n      onPointerDown={props.toggleSidePanel}>\r\n        <IconHamburger className=\"icon\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ButtonToggleMenu;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"\n});\n\nfunction SvgUndo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUndo);\nexport default __webpack_public_path__ + \"static/media/undo.51fe56fd.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './ControlButtons.css';\r\nimport { ReactComponent as IconUndo } from './icons/undo.svg';\r\n\r\nfunction ButtonUndo(props) {\r\n  return (\r\n    <button\r\n      className={\"button square\" + (props.flagCanUndo ? \"\" : \" disabled\")}\r\n      onPointerDown={props.methodUndo}>\r\n        <IconUndo className=\"icon\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ButtonUndo;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"\n});\n\nfunction SvgRedo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRedo);\nexport default __webpack_public_path__ + \"static/media/redo.84d1aa0e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './ControlButtons.css';\r\nimport { ReactComponent as IconRedo } from './icons/redo.svg';\r\n\r\nfunction ButtonRedo(props) {\r\n  return (\r\n    <button\r\n    className={\"button square\" + (props.flagCanRedo ? \"\" : \" disabled\")}\r\n    onPointerDown={props.methodRedo}>\r\n      <IconRedo className=\"icon\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ButtonRedo;","import React from 'react';\r\nimport './Controls.css';\r\nimport ButtonToggleGrid from './buttons/ButtonToggleGrid.js';\r\nimport ButtonSelect from './buttons/ButtonSelect.js';\r\nimport ButtonDelete from './buttons/ButtonDelete.js';\r\nimport ButtonAdd from './buttons/ButtonAdd.js';\r\nimport ButtonToggleMenu from './buttons/ButtonToggleMenu.js';\r\nimport ButtonUndo from './buttons/ButtonUndo.js';\r\nimport ButtonRedo from './buttons/ButtonRedo.js';\r\n\r\nfunction Controls(props) {\r\n  return (\r\n    <div className=\"controls theme-6\">\r\n      <ButtonToggleMenu\r\n        toggleSidePanel={props.controlMethods.toggleSidePanel} />\r\n      <ButtonUndo\r\n        flagCanUndo={props.cardFlags.canUndo}\r\n        methodUndo={props.cardMethods.undo} />\r\n      <ButtonRedo\r\n        flagCanRedo={props.cardFlags.canRedo}\r\n        methodRedo={props.cardMethods.redo} />\r\n      <button\r\n        alt=\"Toggle snap to grid\"\r\n        className={\"button\" + (props.controlFlags.snapToGrid ? \" active\" : \"\")}\r\n        onPointerDown={props.controlMethods.toggleSnapToGrid}>\r\n        Snap to grid\r\n      </button>\r\n      <ButtonToggleGrid\r\n        flagDisplayGrid={props.controlFlags.displayGrid}\r\n        toggleDisplayGrid={props.controlMethods.toggleDisplayGrid} />\r\n      <ButtonAdd\r\n        addCard={props.cardMethods.add} />\r\n      <ButtonSelect\r\n        flagAllowSelection={props.controlFlags.allowSelection}\r\n        toggleFlagAllowSelection={props.controlMethods.toggleFlagAllowSelection} />\r\n      <ButtonDelete\r\n        deleteSelected={props.cardMethods.deleteSelected} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Controls;","import React from 'react';\r\nimport './FieldItem.css';\r\n\r\nfunction FieldItem(props) {\r\n  function handlerDragStart(e) {\r\n    e.dataTransfer.setData(\"text\", e.target.id);\r\n  }\r\n  return (\r\n    <li\r\n      // key={props.key}\r\n      className=\"field-item\"\r\n      draggable=\"true\" >\r\n      <span\r\n        id={\"table-\" + props.tableId + \"-field-\" + props.fieldName}\r\n        draggable=\"true\"\r\n        onDragStart={handlerDragStart} >\r\n          {props.fieldName}\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default FieldItem;","import React, { useState } from 'react';\r\nimport './FieldGroup.css';\r\nimport FieldItem from './field-item/FieldItem.js';\r\n\r\nfunction FieldGroup(props) {\r\n\r\n  const [flagExpanded, setFlagExpanded] = useState(false);\r\n\r\n  const toggleExpand = (e) => {\r\n    e.target.innerHTML = flagExpanded ? \"+\" : \"-\";\r\n    setFlagExpanded(!flagExpanded);\r\n  }\r\n\r\n  return (\r\n    <div className=\"table-fields-section\">\r\n      <div className=\"container-button-and-title\">\r\n        <button\r\n          className=\"button-expand-collapse\"\r\n          onPointerUp={toggleExpand}>+</button>\r\n        <h4\r\n          id={props.tableStructure.id}\r\n          className=\"fields-table-name\">\r\n          {props.tableStructure.id}\r\n        </h4>\r\n      </div>\r\n      <ul className={\"fields-list\" + (flagExpanded ? \"\" : \" hidden\")}>\r\n        {\r\n          props.tableStructure.fields.map((field, i, arr) => {\r\n            return <FieldItem\r\n              key={i}\r\n              tableId={props.tableStructure.id}\r\n              fieldName={field} />\r\n          })\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FieldGroup;","import React from 'react';\r\nimport './TableFields.css';\r\nimport FieldGroup from './field-group/FieldGroup.js';\r\n\r\nfunction TableFields(props) {\r\n  return (\r\n    <section className={\"section\" + (props.activeSection === \"fields\" ? \" active\" : \"\")}>\r\n      <h3 className=\"title\">Fields</h3>\r\n      {\r\n        Array.from(props.dataStructure.values()).map((tableStructure, i, arr) => {\r\n          return <FieldGroup key={i} tableStructure={tableStructure} />\r\n        })\r\n      }\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default TableFields;","import React from 'react';\r\n\r\n\r\nfunction CardFormat(props) {\r\n  return (\r\n    <section className={\"section\" + (props.activeSection === \"format\" ? \" active\" : \"\")}>\r\n      <h3 className=\"title\">Format</h3>\r\n          <h4>Set chart type</h4>\r\n          <button\r\n            onPointerDown={() => props.cardMethods.setContentTypeOfSelectedCards(\"barchart\")} >\r\n            Bar chart\r\n          </button>\r\n          <button\r\n            onPointerDown={() => props.cardMethods.setContentTypeOfSelectedCards(\"piechart\")} >\r\n            Pie chart\r\n          </button>\r\n          <button\r\n            onPointerDown={() => props.cardMethods.setContentTypeOfSelectedCards(\"linechart\")} >\r\n            Line chart\r\n          </button>\r\n          <button\r\n            onPointerDown={() => props.cardMethods.setContentTypeOfSelectedCards(\"barchart2\")} >\r\n            Bar chart 2\r\n          </button>\r\n          <h4>Set chart options</h4>\r\n          <button\r\n            onPointerDown={props.cardMethods.toggleSelectedCardsLegend} >\r\n            Toggle legend\r\n          </button>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default CardFormat;","import React from 'react';\r\n\r\n\r\nfunction Other(props) {\r\n  return (\r\n    <section className={\"section\" + (props.activeSection === \"other\" ? \" active\" : \"\")}>\r\n      <h3 className=\"title\">Other</h3>\r\n          Other\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Other;","import React, { useState } from 'react';\r\nimport './SidePanel.css';\r\nimport TableFields from './sections/table-fields/TableFields.js';\r\nimport CardFormat from './sections/card-format/CardFormat.js';\r\nimport Other from './sections/other/Other.js';\r\n\r\nfunction SidePanel(props) {\r\n\r\n  const [activeSection, setActiveSection] = useState(\"fields\");\r\n  \r\n  const handlePointerDown = (e) => {\r\n    let selectedSection = e.target.dataset.section;\r\n    if (selectedSection === undefined) {\r\n      selectedSection = e.target.parentNode.dataset.section;\r\n    }\r\n    if(activeSection !== selectedSection) {\r\n      setActiveSection(selectedSection);\r\n      props.controlMethods.setFlagShowSidePanel(true);\r\n    } else {\r\n      props.controlMethods.toggleSidePanel();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={\"side-panel\" + (props.controlFlags.showSidePanel ? \"\" : \" hide\")}>\r\n\r\n      <div className=\"buttons-container\">\r\n        <button\r\n          data-section=\"fields\"\r\n          className={activeSection === \"fields\" ? \"active\" : \"\"}\r\n          onPointerDown={handlePointerDown}>\r\n          <span className=\"text\">Fields</span>\r\n        </button>\r\n        <button\r\n          data-section=\"format\"\r\n          className={activeSection === \"format\" ? \"active\" : \"\"}\r\n          onPointerDown={handlePointerDown}>\r\n          <span className=\"text\">Format</span>\r\n        </button>\r\n        <button\r\n          data-section=\"other\"\r\n          className={activeSection === \"other\" ? \"active\" : \"\"}\r\n          onPointerDown={handlePointerDown}>\r\n          <span className=\"text\">Other</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"sections-container\">\r\n        <TableFields activeSection={activeSection} dataStructure={props.dataStructure} />\r\n        <CardFormat activeSection={activeSection} cardMethods={props.cardMethods} />\r\n        <Other activeSection={activeSection} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SidePanel;","import React from 'react';\r\nimport './BarChart.css';\r\n\r\n// const data = [\r\n//   {x: 0, y: 0},\r\n//   {x: 10, y: 10},\r\n//   {x: 20, y: 15},\r\n//   {x: 30, y: 20},\r\n//   {x: 40, y: 25},\r\n//   {x: 50, y: 30},\r\n//   {x: 60, y: 40},\r\n//   {x: 70, y: 5},\r\n//   {x: 80, y: 20},\r\n//   {x: 90, y: 10},\r\n//   {x: 100, y: 0},\r\n//   {x: 110, y: 0}\r\n// ];\r\n\r\nfunction BarChart(props) {\r\n\r\n  const chartWidth = props.cardInfo.size.width - 2 * props.borderWidth;\r\n  const chartHeight = props.cardInfo.size.height - 2 * props.borderWidth;\r\n\r\n  const originLeft = 20;\r\n  const originTop = chartHeight - 20;\r\n\r\n  const axisMarginLeft = originLeft * 0.5;\r\n  const axisMarginRight = chartWidth - originLeft;\r\n  const axisMarginTop = chartHeight - originTop;\r\n  const axisMarginBottom = chartHeight - (chartHeight - originTop) * 0.5;\r\n\r\n  const axisHorizontalLength = axisMarginRight - axisMarginLeft;\r\n  const axisVerticalLength = axisMarginBottom - axisMarginTop;\r\n\r\n  const tickMinorLength = 5;\r\n  const tickMajorLength = 8;\r\n\r\n  // const xMin = 10;\r\n  // const xMax = 10;\r\n  \r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox={\"0 0 \" + chartWidth + \" \" + chartHeight}\r\n      className=\"bar-chart\"\r\n      width={chartWidth}\r\n      height={chartHeight} >\r\n\r\n      {/* <!-- Fondo --> */}\r\n      <g>\r\n        <rect className=\"background\" x=\"0\" y=\"0\"\r\n          width={chartWidth}\r\n          height={chartHeight} ry=\"0\" />\r\n        <text x=\"30\" y=\"30\">{chartWidth}</text>\r\n        <text x=\"30\" y=\"50\">{\"Show legend: \" + props.cardInfo.contentOptions.showLegend}</text>\r\n      </g>\r\n\r\n      {/* <!-- Ejes --> */}\r\n      <g>\r\n        <g>\r\n          {/* <!-- Eje horizontal --> */}\r\n          <g>\r\n            <path d={\"M \" + axisMarginLeft + \",\" + originTop + \" h \" + axisHorizontalLength} />\r\n            <g>\r\n              {/* <!-- Axis ticks --> */}\r\n              <path d={\"M 30,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 40,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 50,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 60,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 70,\" + originTop + \" v \" + tickMajorLength} />\r\n              <path d={\"M 80,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 90,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 100,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 110,\" + originTop + \" v \" + tickMinorLength} />\r\n              <path d={\"M 120,\" + originTop + \" v \" + tickMajorLength} />\r\n            </g>\r\n          </g>\r\n\r\n          {/* <!-- Eje vertical --> */}\r\n          <g>\r\n            <path d={\"M \" + originLeft + \",\" + axisMarginTop + \" v \" + axisVerticalLength} />\r\n            <g>\r\n              {/* <!-- Axis ticks --> */}\r\n              <path d={\"M \" + originLeft + \", 110 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 100 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 90 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 80 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 70 h -\" + tickMajorLength} />\r\n              <path d={\"M \" + originLeft + \", 60 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 60 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 50 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 40 h -\" + tickMinorLength} />\r\n              <path d={\"M \" + originLeft + \", 30 h -\" + tickMajorLength} />\r\n            </g>\r\n          </g>\r\n        </g>\r\n      </g>\r\n\r\n      {/* <!-- Grilla --> */}\r\n      <g>\r\n        <g>\r\n          <g>\r\n            {/* <!-- <path d=\"m 63.210516,71.81547 v 80.88692\" /> --> */}\r\n            {/* <!-- <path d=\"M 80.726683,71.815471 V 152.70239\" /> --> */}\r\n            {/* <!-- <path d=\"M 99.765995,71.815464 V 152.70239\" /> --> */}\r\n          </g>\r\n          <g>\r\n            {/* <!-- <path d=\"m 183.69642,90.246341 -137.583327,10e-7\" /> --> */}\r\n            {/* <!-- <path d=\"M 183.69642,115.13125 H 46.113087\" /> --> */}\r\n          </g>\r\n        </g>\r\n      </g>\r\n\r\n      {/* <!-- Barras --> */}\r\n      <g>\r\n        <rect x=\"20\" y=\"60\" width=\"20\" height=\"20\" className=\"bar\" />\r\n        <rect x=\"60\" y=\"40\" width=\"20\" height=\"50\" className=\"bar\" />\r\n      </g>\r\n\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default BarChart;","import React from 'react';\r\nimport './PieChart.css';\r\n\r\nfunction PieChart(props) {\r\n  return (\r\n    <svg\r\n      className=\"pie-chart\">\r\n      <text x=\"0\" y=\"20\">Pie chart</text>\r\n      <rect cx=\"0\" cy=\"0\" width=\"10\" height=\"10\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default PieChart;","import React from 'react';\r\nimport './LineChart.css';\r\nimport { Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\r\nimport { LineChart as LineChartRecharts } from 'recharts';\r\n\r\nconst data = [\r\n  {\r\n    name: 'Page A', uv: 4000, pv: 2400, amt: 2400,\r\n  },\r\n  {\r\n    name: 'Page B', uv: 3000, pv: 1398, amt: 2210,\r\n  },\r\n  {\r\n    name: 'Page C', uv: 2000, pv: 9800, amt: 2290,\r\n  },\r\n  {\r\n    name: 'Page D', uv: 2780, pv: 3908, amt: 2000,\r\n  },\r\n  {\r\n    name: 'Page E', uv: 1890, pv: 4800, amt: 2181,\r\n  },\r\n  {\r\n    name: 'Page F', uv: 2390, pv: 3800, amt: 2500,\r\n  },\r\n  {\r\n    name: 'Page G', uv: 3490, pv: 4300, amt: 2100,\r\n  },\r\n];\r\n\r\nfunction LineChart(props) {\r\n  const chartWidth = props.cardInfo.size.width - 2 * props.borderWidth;\r\n  const chartHeight = props.cardInfo.size.height - 2 * props.borderWidth;\r\n  return (\r\n    <LineChartRecharts\r\n      width={chartWidth}\r\n      height={chartHeight}\r\n      data={data}\r\n      margin={{\r\n        top: 5, right: 30, left: 20, bottom: 5,\r\n      }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <XAxis dataKey=\"name\" />\r\n      <YAxis />\r\n      <Tooltip />\r\n      <Legend />\r\n      <Line type=\"monotone\" dataKey=\"pv\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\r\n      <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" />\r\n    </LineChartRecharts>\r\n  );\r\n}\r\n\r\nexport default LineChart;","import React from 'react';\r\nimport './BarChart2.css';\r\nimport { CartesianGrid, XAxis, YAxis, Tooltip, Legend, Bar } from 'recharts';\r\nimport { BarChart as BarChartRecharts } from 'recharts';\r\n\r\nconst data = [\r\n  {x: 0, y: 0},\r\n  {x: 10, y: 10},\r\n  {x: 20, y: 15},\r\n  {x: 30, y: 20},\r\n  {x: 40, y: 25},\r\n  {x: 50, y: 30},\r\n  {x: 60, y: 40},\r\n  {x: 70, y: 5},\r\n  {x: 80, y: 20},\r\n  {x: 90, y: 10},\r\n  {x: 100, y: 0},\r\n  {x: 110, y: 0}\r\n];\r\n\r\nfunction BarChart2(props) {\r\n\r\n  const chartWidth = props.cardInfo.size.width - 2 * props.borderWidth;\r\n  const chartHeight = props.cardInfo.size.height - 2 * props.borderWidth;\r\n\r\n//   const originLeft = 20;\r\n//   const originTop = chartHeight - 20;\r\n\r\n//   const axisMarginLeft = originLeft * 0.5;\r\n//   const axisMarginRight = chartWidth - originLeft;\r\n//   const axisMarginTop = chartHeight - originTop;\r\n//   const axisMarginBottom = chartHeight - (chartHeight - originTop) * 0.5;\r\n\r\n//   const axisHorizontalLength = axisMarginRight - axisMarginLeft;\r\n//   const axisVerticalLength = axisMarginBottom - axisMarginTop;\r\n\r\n//   const tickMinorLength = 5;\r\n//   const tickMajorLength = 8;\r\n\r\n  // const xMin = 10;\r\n  // const xMax = 10;\r\n  \r\n  return (\r\n    <BarChartRecharts\r\n      width={chartWidth}\r\n      height={chartHeight}\r\n      data={data} >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis dataKey=\"name\" />\r\n        <YAxis />\r\n        <Tooltip />\r\n        <Legend layout=\"horizontal\" verticalAlign=\"bottom\" iconType=\"square\" iconSize={3} />\r\n        <Bar dataKey=\"x\" fill=\"#8884d8\" />\r\n        <Bar dataKey=\"y\" fill=\"#82ca9d\" />\r\n    </BarChartRecharts>\r\n  );\r\n}\r\n\r\nexport default BarChart2;","import React, { useState, useCallback } from 'react';\r\nimport './MetaCard.css';\r\nimport BarChart from '../card-content/charts/BarChart.js';\r\nimport PieChart from '../card-content/charts/PieChart.js';\r\nimport LineChart from '../card-content/charts/LineChart.js';\r\nimport BarChart2 from '../card-content/charts/BarChart2.js';\r\n\r\nconst METACARD_BORDER_WIDTH = 1;\r\n\r\nfunction MetaCard(props) {\r\n\r\n  const [flagExpectDrop, setFlagExpectDrop] = useState(false);\r\n\r\n  const handlerDragOver = (e) => {\r\n    e.preventDefault();\r\n    setFlagExpectDrop(true);\r\n  }\r\n\r\n  const handlerDragLeave = (e) => {\r\n    setFlagExpectDrop(false);\r\n  }\r\n\r\n  const handlerDrop = (e) => {\r\n    e.preventDefault();\r\n    setFlagExpectDrop(false);\r\n    const data = e.dataTransfer.getData(\"text\");\r\n    console.log(data);\r\n  }\r\n\r\n  const Contents = useCallback((props) => {\r\n    switch (props.cardInfo.type) {\r\n      case \"barchart\":\r\n        return <BarChart {...props} />\r\n      case \"piechart\":\r\n        return <PieChart {...props} />\r\n      case \"linechart\":\r\n        return <LineChart {...props} />\r\n      case \"barchart2\":\r\n        return <BarChart2 {...props} />\r\n      default:\r\n        // return <div>empty</div>\r\n        return <BarChart {...props} />\r\n      // break;\r\n    }\r\n  }, []);\r\n\r\n  const selected = props.cardInfo.selected;\r\n\r\n  return (\r\n    <div\r\n      id={props.cardInfo.id}\r\n      className={\"resizeable-card-container\" + (selected ? \" selected\" : \"\") + (props.dashboardFlags.overrideHoverPointers ? \" unset-cursors\" : \"\") + (flagExpectDrop ? \" receiving-drop\" : \"\")}\r\n      style={{\r\n        left: props.cardInfo.pos.left + \"px\",\r\n        top: props.cardInfo.pos.top + \"px\",\r\n        backgroundColor: props.color\r\n      }}\r\n      onDragOver={handlerDragOver}\r\n      onDragLeave={handlerDragLeave}\r\n      onDrop={handlerDrop} >\r\n      <div className=\"col-container\">\r\n        <div className=\"corner nw\" data-anchor={{ right: true, bottom: true }}></div>\r\n        <div className=\"border vertical left\" data-anchor={{ right: true, bottom: false }}></div>\r\n        <div className=\"corner sw\" data-anchor={{ right: true, bottom: false }}></div>\r\n      </div>\r\n\r\n      <div className=\"col-container\">\r\n        <div className=\"border horizontal top\" data-anchor={{ right: false, bottom: true }}></div>\r\n\r\n        <div\r\n          className=\"content\"\r\n          style={{\r\n            width: props.cardInfo.size.width + \"px\",\r\n            height: props.cardInfo.size.height + \"px\",\r\n            borderWidth: METACARD_BORDER_WIDTH\r\n          }}>\r\n          <Contents {...props} borderWidth={METACARD_BORDER_WIDTH} />\r\n          {/* {props.children} */}\r\n          {/* {\"Debug info: \" + debugInfo} */}\r\n          {/* {\"controller index: \" + controllerPointerIndex} */}\r\n        </div>\r\n        <div className=\"border horizontal bottom\" data-anchor={{ right: false, bottom: false }}></div>\r\n      </div>\r\n\r\n      <div className=\"col-container\">\r\n        <div className=\"corner ne\" data-anchor={{ right: false, bottom: true }}></div>\r\n        <div className=\"border vertical right\" data-anchor={{ right: false, bottom: false }}></div>\r\n        <div className=\"corner se\" data-anchor={{ right: false, bottom: false }}></div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MetaCard;","import { useEffect, useState, useCallback, useLayoutEffect } from 'react';\r\n\r\n// const SELECTION_RECT_BORDER_WIDTH = 2;\r\n\r\nfunction useDashboardEventHandlers(dashboardId, selRectBorderWidth, cardMethods, controlMethods, controlFlags) {\r\n\r\n  const [allowResize, setAllowResize] = useState({ width: false, height: false });\r\n  const [allowMove, setAllowMove] = useState(false);\r\n\r\n  const [lastClickedPos, setLastClickedPos] = useState({ x: 0, y: 0 });\r\n  const [anchor, setAnchor] = useState({ right: false, bottom: false });\r\n  const [lastContainerClicked, setLastContainerClicked] = useState(null);\r\n  const [flagOverrideHoverPointers, setFlagOverrideHoverPointers] = useState(false);\r\n  const [lockCtrlKey, setLockCtrlKey] = useState(false);\r\n  const [selectionRectangleProps, setSelectionRectangleProps] = useState({\r\n    flagDraw: false,\r\n    pos: { left: 0, top: 0 },\r\n    size: { width: 0, height: 0 },\r\n    borderWidth: selRectBorderWidth\r\n  });\r\n  const [flagPointerDown, setFlagPointerDown] = useState(false);\r\n  // const [flagAllowRectangleSelect, setFlagAllowRectangleSelect] = useState(false);\r\n  // const setFlagAllowRectangleSelect = useCallback((newFlag) => {\r\n  //   controlMethods.setFlagAllowSelection(newFlag);\r\n  // }, []);\r\n  // const flagAllowRectangleSelect = controlFlags.allowSelection;\r\n  // const [flagIsLongPress, setFlagIsLongPress] = useState(false);\r\n  // const [flagWaitingLongPress, setFlagWaitingLongPress] = useState(false);\r\n  // const [timerLongPress, setTimerLongPress] = useState(null);\r\n  // const [dashboardScrollSize, setDashboardScrollSize] = useState({\r\n  //   width: \"100%\",\r\n  //   height: \"100%\"\r\n  // })\r\n\r\n  // const dashboard = useMemo(() => {\r\n  //   return document.getElementById(dashboardId);\r\n  // }, [dashboardId]);\r\n\r\n  // Cursor handlers\r\n  const setBorderCursorGlobalClass = useCallback((isBorder, isCorner, isHorizontal, anchor) => {\r\n    let cursorClass = \"\"\r\n    if (isBorder) {\r\n      if (isHorizontal) {\r\n        cursorClass = \"ns-resize\";\r\n      } else {\r\n        cursorClass = \"ew-resize\";\r\n      }\r\n    } else {\r\n      if (isCorner) {// It is a corner\r\n        const anchorsEncoded = [+anchor.right, +anchor.bottom].join(\"\");\r\n        const cornerCursorClassByAnchors = {\r\n          \"00\": \"se-resize\",\r\n          \"01\": \"ne-resize\",\r\n          \"10\": \"sw-resize\",\r\n          \"11\": \"nw-resize\"\r\n        }\r\n        cursorClass = cornerCursorClassByAnchors[anchorsEncoded];\r\n      } else {\r\n        cursorClass = \"normal\";\r\n      }\r\n    }\r\n    const dashboard = document.getElementById(dashboardId);\r\n    dashboard.style.setProperty(\"cursor\", cursorClass);\r\n  }, [dashboardId]);\r\n\r\n  const clearBorderCursorGlobalClass = useCallback(() => {\r\n    const dashboard = document.getElementById(dashboardId);\r\n    dashboard.style.removeProperty(\"cursor\");\r\n  }, [dashboardId]);\r\n\r\n  const containedInCardContainer = useCallback((element) => {\r\n    let a = element;\r\n    while (a) {\r\n      if (Array.from(a.classList).includes(\"resizeable-card-container\")) {\r\n        return a;\r\n      } else {\r\n        a = a.parentElement;\r\n      }\r\n    }\r\n    return null;\r\n  }, []);\r\n  // ---------------------------------------------------------------------------\r\n\r\n  // Pointer down\r\n  useEffect(() => {\r\n    const dashboard = document.getElementById(dashboardId);\r\n    const handlePointerDown = (e) => {\r\n      e.preventDefault();\r\n      setFlagPointerDown(true);\r\n      setLastClickedPos({ x: e.pageX, y: e.pageY });\r\n\r\n      // Did the user click on a card? If so, the function returns the card\r\n      // container element. If not, \"false\" is returned instead.\r\n      const cardContainer = containedInCardContainer(e.target);\r\n\r\n      if (cardContainer !== null) {\r\n\r\n        cardMethods.__updatePropsBeforeChange();\r\n        setLastContainerClicked(cardContainer);\r\n\r\n        const cardId = cardContainer.id;\r\n\r\n        if (e.shiftKey === true) {\r\n          cardMethods.toggleSelect(cardId);\r\n        } else {\r\n\r\n          // If not currently selected, clear previous selection and select the\r\n          // clicked card.\r\n          if (cardMethods.isSelected(cardId) === false) {\r\n            cardMethods.clearSelection();\r\n            cardMethods.toggleSelect(cardId);\r\n          }\r\n\r\n          const classesTargetElement = Array.from(e.target.classList);\r\n          const isBorder = classesTargetElement.includes(\"border\");\r\n          const isCorner = classesTargetElement.includes(\"corner\");\r\n\r\n          if (isBorder || isCorner) {\r\n\r\n            const isHor = classesTargetElement.includes(\"horizontal\");\r\n            // const isVer = classesTargetElement.includes(\"vertical\");\r\n\r\n            const leftClasses = [\"left\", \"nw\", \"sw\"];\r\n            const isLeft = classesTargetElement.some((el) => leftClasses.includes(el));\r\n\r\n            const topClasses = [\"top\", \"nw\", \"ne\"];\r\n            const isTop = classesTargetElement.some((el) => topClasses.includes(el));\r\n\r\n            const newAnchor = {\r\n              right: isLeft,\r\n              bottom: isTop\r\n            }\r\n            setAnchor(newAnchor);\r\n\r\n            setAllowResize({\r\n              width: !isHor || isCorner,\r\n              height: isHor || isCorner\r\n            });\r\n\r\n            setBorderCursorGlobalClass(isBorder, isCorner, isHor, newAnchor);\r\n            setFlagOverrideHoverPointers(true);\r\n\r\n          } else {\r\n            setAllowMove(true);\r\n          }\r\n        }\r\n      } else {\r\n        if (e.ctrlKey === true) {\r\n          const dashboardRect = dashboard.getBoundingClientRect();\r\n          cardMethods.add({\r\n            pos: {\r\n              left: e.pageX - dashboardRect.left + dashboard.scrollLeft,\r\n              top: e.pageY - dashboardRect.top + dashboard.scrollTop\r\n            }\r\n          });\r\n        } else {\r\n          // If no card was clicked, and if the ctrl and shift keys were not\r\n          // pressed, we can clear the selection.\r\n          if (!e.shiftKey) {\r\n            cardMethods.clearSelection();\r\n          }\r\n\r\n          // if (e.pointerType === \"touch\") {\r\n          //   // e.preventDefault();\r\n          //   setFlagWaitingLongPress(true);\r\n          //   const timer = window.setTimeout(() => {\r\n          //     controlMethods.setFlagAllowSelection(true);\r\n          //   }, 400);\r\n          //   setTimerLongPress(timer);\r\n          // } else {\r\n          //   controlMethods.setFlagAllowSelection(true);\r\n          // }\r\n          if (e.pointerType !== \"touch\") {\r\n            controlMethods.setFlagAllowSelection(true);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    dashboard.addEventListener(\"pointerdown\", handlePointerDown, false);\r\n    return () => dashboard.removeEventListener(\"pointerdown\", handlePointerDown, false);\r\n  }, [\r\n    cardMethods, // Ok?\r\n    dashboardId, // Ok\r\n    setBorderCursorGlobalClass, // Ok?\r\n    containedInCardContainer, // Ok\r\n    controlMethods // Ok?\r\n  ]);\r\n\r\n  // Pointer move\r\n  useLayoutEffect(() => {\r\n\r\n    const dashboard = document.getElementById(dashboardId);\r\n\r\n    const handlePointerMove = (e) => {\r\n      e.preventDefault();\r\n      const translation = {\r\n        x: e.pageX - lastClickedPos.x,\r\n        y: e.pageY - lastClickedPos.y\r\n      }\r\n      // const pointerTravelledDistance = Math.sqrt(translation.x * translation.x + translation.y * translation.y);\r\n\r\n      if (allowMove) {\r\n\r\n        if (e.shiftKey === false) {\r\n          cardMethods.translateSelected(translation);\r\n        } else {\r\n          const priorizeX = Math.abs(translation.x) > Math.abs(translation.y);\r\n          const priorizeY = !priorizeX;\r\n\r\n          const restrictedTranslation = {\r\n            x: priorizeX ? translation.x : 0,\r\n            y: priorizeY ? translation.y : 0\r\n          }\r\n          cardMethods.translateSelected(restrictedTranslation);\r\n        }\r\n      } else {\r\n        if (allowResize.width || allowResize.height) {\r\n\r\n          const resizeTranslation = {\r\n            x: allowResize.width ? translation.x : 0,\r\n            y: allowResize.height ? translation.y : 0\r\n          };\r\n          cardMethods.resize(lastContainerClicked.id, resizeTranslation, allowResize, anchor);\r\n        } else {\r\n          if (flagPointerDown) {\r\n            if (controlFlags.allowSelection) {\r\n              const dashboardRect = dashboard.getBoundingClientRect();\r\n              const newSelectionRectangleProps = {\r\n                flagDraw: true,\r\n                pos: {\r\n                  left: Math.round(Math.min(lastClickedPos.x, e.pageX) - dashboardRect.left + dashboard.scrollLeft, 0),\r\n                  top: Math.round(Math.min(lastClickedPos.y, e.pageY) - dashboardRect.top + dashboard.scrollTop, 0)\r\n                },\r\n                size: {\r\n                  width: Math.round(Math.abs(e.pageX - lastClickedPos.x), 0),\r\n                  height: Math.round(Math.abs(e.pageY - lastClickedPos.y), 0)\r\n                },\r\n                borderWidth: selRectBorderWidth\r\n              };\r\n              // console.log(JSON.stringify(e.offsetX + \"-\" + e.offsetY));\r\n              setSelectionRectangleProps(newSelectionRectangleProps);\r\n              const flagExpandCurrentSelection = e.shiftKey;\r\n              cardMethods.selectWithRectangle(\r\n                newSelectionRectangleProps,\r\n                flagExpandCurrentSelection);\r\n            } //else {\r\n            //   if (e.pointerType === \"touch\" && flagWaitingLongPress && pointerTravelledDistance > 0) {\r\n            //     window.clearTimeout(timerLongPress);\r\n            //     setTimerLongPress(null);\r\n            //     setFlagWaitingLongPress(false);\r\n            //   }\r\n            // }\r\n          }\r\n        }\r\n      }\r\n      // if (allowMove || allowResize.width || allowResize.height) {\r\n      //   // console.log(\"ran\");\r\n      //   setDashboardScrollSize({\r\n      //     width: dashboard.scrollWidth,\r\n      //     height: dashboard.scrollHeight\r\n      //   });\r\n      // }\r\n    }\r\n    dashboard.addEventListener(\"pointermove\", handlePointerMove, false);\r\n    return () => dashboard.removeEventListener(\"pointermove\", handlePointerMove, false);\r\n  }, [\r\n    cardMethods, // ok?\r\n    dashboardId, // ok\r\n    allowMove, // ok\r\n    allowResize, // ok\r\n    anchor, // ok\r\n    lastClickedPos, // ok\r\n    lastContainerClicked, // ok\r\n    flagPointerDown, // ok\r\n    controlFlags.allowSelection, // ok\r\n    selRectBorderWidth // ok?\r\n    //flagWaitingLongPress, // ok\r\n    //timerLongPress\r\n  ]);\r\n\r\n  // Pointer up\r\n  useEffect(() => {\r\n    const dashboard = document.getElementById(dashboardId);\r\n    const handlePointerUp = (e) => {\r\n      // e.preventDefault();\r\n      // Disallow both movement and resizing.\r\n      setFlagPointerDown(false);\r\n      setAllowResize({ width: false, height: false });\r\n      setAllowMove(false);\r\n      clearBorderCursorGlobalClass();\r\n      setFlagOverrideHoverPointers(false);\r\n      setSelectionRectangleProps({\r\n        flagDraw: false,\r\n        pos: { left: 0, top: 0 },\r\n        size: { width: 0, height: 0 },\r\n        borderWidth: selRectBorderWidth\r\n      });\r\n      // setFlagAllowRectangleSelect(false);\r\n      controlMethods.setFlagAllowSelection(false);\r\n      // if (e.pointerType === \"touch\" && timerLongPress !== null) {\r\n      //   window.clearTimeout(timerLongPress);\r\n      // }\r\n    }\r\n    dashboard.addEventListener(\"pointerup\", handlePointerUp, false);\r\n    return () => dashboard.removeEventListener(\"pointerup\", handlePointerUp, false);\r\n  }, [\r\n    cardMethods, // Ok?\r\n    dashboardId, // Ok\r\n    clearBorderCursorGlobalClass, // Ok?\r\n    controlMethods, // Ok?\r\n    selRectBorderWidth // ok?\r\n    //timerLongPress, // Ok?\r\n  ]);\r\n\r\n  // Key down\r\n  useEffect(() => {\r\n\r\n    const handleKeyDown = (e) => {\r\n      switch (e.key) {\r\n        case \"Escape\":\r\n          cardMethods.clearSelection();\r\n          break;\r\n        case \"Delete\":\r\n          cardMethods.deleteSelected();\r\n          break;\r\n        case \"Control\":\r\n          if (!lockCtrlKey) {\r\n            controlMethods.toggleSnapToGrid();\r\n            setLockCtrlKey(true);\r\n          }\r\n          break;\r\n        case \"Backspace\":\r\n          cardMethods.deleteSelected();\r\n          break;\r\n        default:\r\n          // alert(keyboardInfo.lastKeyPressed);\r\n          break;\r\n      }\r\n    }\r\n\r\n    const handleKeyUp = (e) => {\r\n      switch (e.key) {\r\n        case \"Escape\":\r\n          break;\r\n        case \"Delete\":\r\n          break;\r\n        case \"Control\":\r\n          controlMethods.toggleSnapToGrid();\r\n          setLockCtrlKey(false);\r\n          break;\r\n        case \"Backspace\":\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown, false);\r\n    window.addEventListener(\"keyup\", handleKeyUp, false);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown, false);\r\n      window.removeEventListener(\"keyup\", handleKeyUp, false);\r\n    }\r\n\r\n  }, [cardMethods, controlMethods, lockCtrlKey]);\r\n\r\n  // const handlers = {\r\n  //   pointerDown: handlePointerDown,\r\n  //   pointerMove: handlePointerMove,\r\n  //   pointerUp: handlePointerUp\r\n  // }\r\n\r\n  // const scrollSize = useMemo(() => {\r\n  //   // const dashboard = document.getElementById(dashboardId);\r\n  //   const scrollWidth = dashboard === null ? 0 : dashboard.scrollWidth;\r\n  //   const scrollHeight = dashboard === null ? 0 : dashboard.scrollHeight;\r\n  //   return {\r\n  //     width: scrollWidth,\r\n  //     height: scrollHeight\r\n  //   }\r\n  // }, [dashboard, dashboard.scrollWidth, dashboard.scrollHeight]);\r\n\r\n  const debugInfo = JSON.stringify({\r\n    allowResize: allowResize,\r\n    allowMove: allowMove,\r\n    lastClickedPos: lastClickedPos,\r\n    anchor: anchor\r\n  });\r\n\r\n  const dashboardFlags = {\r\n    overrideHoverPointers: flagOverrideHoverPointers,\r\n    allowRectangleSelect: controlFlags.allowSelection,\r\n    pointerDown: flagPointerDown\r\n  }\r\n  const dashboardProps = {\r\n    debugInfo: debugInfo,\r\n    selectionRectangleProps: selectionRectangleProps\r\n    // scrollSize: dashboardScrollSize\r\n  }\r\n\r\n  return [dashboardFlags, dashboardProps];\r\n}\r\n\r\nexport default useDashboardEventHandlers;","import React from 'react';\r\nimport './SelectionRectangle.css';\r\n\r\nfunction SelectionRectangle(props) {\r\n  return (\r\n    <div\r\n      id={props.selRectId}\r\n      className={\"selection-rectangle\" + (props.selRectInfo.flagDraw ? \"\" : \" hide\")}\r\n      style={{\r\n        left: props.selRectInfo.pos.left,\r\n        top: props.selRectInfo.pos.top,\r\n        width: props.selRectInfo.size.width,\r\n        height: props.selRectInfo.size.height,\r\n        borderWidth: props.selRectInfo.borderWidth\r\n      }}>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectionRectangle;","import React from 'react';\r\nimport './Grid.css';\r\n\r\nfunction Grid(props) {\r\n  return (\r\n    <div\r\n      className=\"grid\" >\r\n      {\r\n        props.controlFlags.displayGrid === true &&\r\n        <span>\r\n          <div\r\n            className=\"small-grid\"></div>\r\n          <div\r\n            className=\"big-grid\"></div>\r\n        </span>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Grid;","import React, { useRef } from 'react';\r\nimport './DashboardContent.css';\r\nimport MetaCard from './components/meta-card/MetaCard.js';\r\nimport useDashboardEventHandlers from './customHooks/useDashboardEventHandlers.js';\r\nimport SelectionRectangle from './components/selection-rectangle/SelectionRectangle.js';\r\nimport Grid from './components/grid/Grid.js';\r\n\r\nconst DASHBOARD_ID = \"dashboard-content\";\r\nconst SELRECT_BORDERWIDTH = 2;\r\n\r\nfunction DashboardContent(props) {\r\n\r\n  const dashboardRef = useRef(null);\r\n\r\n  const [dashboardFlags, dashboardProps] = useDashboardEventHandlers(\r\n    DASHBOARD_ID,\r\n    SELRECT_BORDERWIDTH,\r\n    props.cardMethods,\r\n    props.controlMethods,\r\n    props.controlFlags);\r\n\r\n  return (\r\n    <div\r\n      id={DASHBOARD_ID}\r\n      // onPointerDown={dashboardMethods.onPointerDown}\r\n      className={\"dashboard-content\" + (dashboardFlags.allowRectangleSelect ? \" touch-action-none\" : \"\")}\r\n      ref={dashboardRef}>\r\n      <Grid\r\n        controlFlags={props.controlFlags}\r\n        controlProps={props.controlProps}\r\n        dashboardRef={dashboardRef} /> \r\n        {/* dashboardScrollSize={dashboardProps.scrollSize} /> */}\r\n      {/* <span className=\"debug-info\">{JSON.stringify(dashboardProps.scrollSize)}</span> */}\r\n      {\r\n        Array.from(props.cards.values()).map((cardInfo, i, arr) => {\r\n          return <MetaCard\r\n            key={i}\r\n            cardInfo={cardInfo}\r\n            dashboardFlags={dashboardFlags}\r\n            controlFlags={props.controlFlags} />\r\n        })\r\n      }\r\n      <SelectionRectangle selRectInfo={dashboardProps.selectionRectangleProps} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DashboardContent;","import React from 'react';\nimport './App.css';\nimport './ColorPalette.css';\n\n// Custom hooks-----------------------------------------------------------------\nimport useControls from './customHooks/useControls.js';\nimport useCards from './customHooks/useCards.js';\nimport useData from './customHooks/useData.js';\n// -----------------------------------------------------------------------------\n\n// Basic components-------------------------------------------------------------\nimport Controls from './components/controls/Controls.js';\nimport SidePanel from './components/side-panel/SidePanel.js';\nimport DashboardContent from './components/dashboard-content/DashboardContent.js';\n// -----------------------------------------------------------------------------\n\nfunction App() {\n\n  const [controlFlags, controlMethods] = useControls();\n  \n  const [cards, cardFlags, cardMethods] = useCards(controlFlags);\n  const [dataStructure, data] = useData();\n\n  return (\n    <div\n      className=\"App\">\n      \n      <Controls\n        cardFlags={cardFlags}\n        cardMethods={cardMethods}\n        controlFlags={controlFlags}\n        controlMethods={controlMethods} />\n\n      <div className=\"container-for-side-panel-and-content\">\n        \n        <SidePanel\n          controlFlags={controlFlags}\n          controlMethods={controlMethods}\n          dataStructure={dataStructure}\n          cardMethods={cardMethods} />\n        \n        <DashboardContent\n          cards={cards}\n          cardMethods={cardMethods}\n          controlFlags={controlFlags}\n          controlMethods={controlMethods}\n          data={data} />\n\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}